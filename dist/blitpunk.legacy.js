webpackJsonpblitpunk([3],{

/***/ 10:
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.blitpunk=e():t.blitpunk=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=159)}([function(t,e,n){var r=n(2),i=n(25),o=n(11),u=n(12),a=n(26),s=function(t,e,n){var c,f,l,h,d=t&s.F,p=t&s.G,v=t&s.S,y=t&s.P,b=t&s.B,g=p?r:v?r[e]||(r[e]={}):(r[e]||{}).prototype,m=p?i:i[e]||(i[e]={}),_=m.prototype||(m.prototype={});p&&(n=e);for(c in n)l=((f=!d&&g&&void 0!==g[c])?g:n)[c],h=b&&f?a(l,r):y&&"function"==typeof l?a(Function.call,l):l,g&&u(g,c,l,t&s.U),m[c]!=l&&o(m,c,h),y&&_[c]!=l&&(_[c]=l)};r.core=i,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(54)("wks"),i=n(34),o=n(2).Symbol,u="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=r},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(1),i=n(112),o=n(22),u=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(32),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(19);t.exports=function(t){return Object(r(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(7),i=n(30);t.exports=n(6)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),i=n(11),o=n(10),u=n(34)("src"),a=Function.toString,s=(""+a).split("toString");n(25).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,u)||i(n,u,t[e]?""+t[e]:s.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[u]||a.call(this)})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(48),i=n(19);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(0),i=n(3),o=n(19),u=/"/g,a=function(t,e,n,r){var i=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(r).replace(u,"&quot;")+'"'),a+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){var r=n(49),i=n(30),o=n(14),u=n(22),a=n(10),s=n(112),c=Object.getOwnPropertyDescriptor;e.f=n(6)?c:function(t,e){if(t=o(t),e=u(e,!0),s)try{return c(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(10),i=n(9),o=n(75)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";e.__esModule=!0;var r=e.DOM_ELEM_CANVAS="blitpunk-canvas",i=e.DOM_ELEM_SCENE="blitpunk-scene",o=e.DOM_ELEM_SPRITE_GROUP="blitpunk-sprite-group",u=e.DOM_ELEM_TEXTURE_ATLAS="blitpunk-texture-atlas";e.NODE_NAME_CANVAS=r.toUpperCase(),e.NODE_NAME_SCENE=i.toUpperCase(),e.NODE_NAME_SPRITE_GROUP=o.toUpperCase(),e.NODE_NAME_TEXTURE_ATLAS=u.toUpperCase(),e.COMP_PRIO_PROJECTION=1e3,e.COMP_PRIO_BLEND_BEFORE=500,e.COMP_PRIO_CHILDREN=100,e.COMP_PRIO_BLEND_AFTER=-500,e.ATTR_ALPHA="alpha",e.ATTR_ANTIALIAS="antialias",e.ATTR_BLEND_MODE="blend-mode",e.ATTR_CAPACITY="capacity",e.ATTR_CLEAR_COLOR="clear-color",e.ATTR_DEPTH="depth",e.ATTR_DESCRIPTOR="descriptor",e.ATTR_FLIP_Y="flip-y",e.ATTR_FRAGMENT_SHADER="fragment-shader",e.ATTR_MODULE_SRC="module-src",e.ATTR_NEAREST="nearest",e.ATTR_PREMULTIPLIED_ALPHA="premultiplied-alpha",e.ATTR_PREMULTIPLY_ALPHA="premultiply-alpha",e.ATTR_PRESERVE_DRAW="preserve-drawing-buffer",e.ATTR_PRIMITIVE="primitive",e.ATTR_PROJECTION="projection",e.ATTR_REPEATABLE="repeatable",e.ATTR_SRC="src",e.ATTR_STENCIL="stencil",e.ATTR_TEXTURE_MAP="texture-map",e.ATTR_VERTEX_SHADER="vertex-shader",e.ATTR_VO_NEW="vo-new",e.ATTR_VO_ZERO="vo-zero"},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(0),i=n(25),o=n(3);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],u={};u[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",u)}},function(t,e,n){var r=n(26),i=n(48),o=n(9),u=n(8),a=n(251);t.exports=function(t,e){var n=1==t,s=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l,d=e||a;return function(e,a,p){for(var v,y,b=o(e),g=i(b),m=r(a,p,3),_=u(g.length),x=0,w=n?d(e,_):s?d(e,0):void 0;_>x;x++)if((h||x in g)&&(v=g[x],y=m(v,x,b),t))if(n)w[x]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:w.push(v)}else if(f)return!1;return l?-1:c||f?f:w}}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(13);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";if(n(6)){var r=n(35),i=n(2),o=n(3),u=n(0),a=n(63),s=n(98),c=n(26),f=n(41),l=n(30),h=n(11),d=n(42),p=n(32),v=n(8),y=n(37),b=n(22),g=n(10),m=n(118),_=n(50),x=n(4),w=n(9),M=n(90),E=n(38),A=n(17),T=n(39).f,S=n(92),O=n(34),R=n(5),P=n(24),C=n(55),I=n(95),N=n(94),k=n(45),L=n(59),j=n(40),F=n(93),D=n(127),U=n(7),B=n(16),V=U.f,z=B.f,Y=i.RangeError,G=i.TypeError,q=i.Uint8Array,H=Array.prototype,W=s.ArrayBuffer,X=s.DataView,Z=P(0),$=P(2),J=P(3),K=P(4),Q=P(5),tt=P(6),et=C(!0),nt=C(!1),rt=N.values,it=N.keys,ot=N.entries,ut=H.lastIndexOf,at=H.reduce,st=H.reduceRight,ct=H.join,ft=H.sort,lt=H.slice,ht=H.toString,dt=H.toLocaleString,pt=R("iterator"),vt=R("toStringTag"),yt=O("typed_constructor"),bt=O("def_constructor"),gt=a.CONSTR,mt=a.TYPED,_t=a.VIEW,xt=P(1,function(t,e){return St(I(t,t[bt]),e)}),wt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Mt=!!q&&!!q.prototype.set&&o(function(){new q(1).set({})}),Et=function(t,e){if(void 0===t)throw G("Wrong length!");var n=+t,r=v(t);if(e&&!m(n,r))throw Y("Wrong length!");return r},At=function(t,e){var n=p(t);if(n<0||n%e)throw Y("Wrong offset!");return n},Tt=function(t){if(x(t)&&mt in t)return t;throw G(t+" is not a typed array!")},St=function(t,e){if(!(x(t)&&yt in t))throw G("It is not a typed array constructor!");return new t(e)},Ot=function(t,e){return Rt(I(t,t[bt]),e)},Rt=function(t,e){for(var n=0,r=e.length,i=St(t,r);r>n;)i[n]=e[n++];return i},Pt=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},Ct=function(t){var e,n,r,i,o,u,a=w(t),s=arguments.length,f=s>1?arguments[1]:void 0,l=void 0!==f,h=S(a);if(void 0!=h&&!M(h)){for(u=h.call(a),r=[],e=0;!(o=u.next()).done;e++)r.push(o.value);a=r}for(l&&s>2&&(f=c(f,arguments[2],2)),e=0,n=v(a.length),i=St(this,n);n>e;e++)i[e]=l?f(a[e],e):a[e];return i},It=function(){for(var t=0,e=arguments.length,n=St(this,e);e>t;)n[t]=arguments[t++];return n},Nt=!!q&&o(function(){dt.call(new q(1))}),kt=function(){return dt.apply(Nt?lt.call(Tt(this)):Tt(this),arguments)},Lt={copyWithin:function(t,e){return D.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return K(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(Tt(this),arguments)},filter:function(t){return Ot(this,$(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Tt(this),arguments)},lastIndexOf:function(t){return ut.apply(Tt(this),arguments)},map:function(t){return xt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(Tt(this),arguments)},reduceRight:function(t){return st.apply(Tt(this),arguments)},reverse:function(){for(var t,e=this,n=Tt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return J(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ft.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),r=n.length,i=y(t,r);return new(I(n,n[bt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:y(e,r))-i))}},jt=function(t,e){return Ot(this,lt.call(Tt(this),t,e))},Ft=function(t){Tt(this);var e=At(arguments[1],1),n=this.length,r=w(t),i=v(r.length),o=0;if(i+e>n)throw Y("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Dt={entries:function(){return ot.call(Tt(this))},keys:function(){return it.call(Tt(this))},values:function(){return rt.call(Tt(this))}},Ut=function(t,e){return x(t)&&t[mt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Bt=function(t,e){return Ut(t,e=b(e,!0))?l(2,t[e]):z(t,e)},Vt=function(t,e,n){return!(Ut(t,e=b(e,!0))&&x(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};gt||(B.f=Bt,U.f=Vt),u(u.S+u.F*!gt,"Object",{getOwnPropertyDescriptor:Bt,defineProperty:Vt}),o(function(){ht.call({})})&&(ht=dt=function(){return ct.call(this)});var zt=d({},Lt);d(zt,Dt),h(zt,pt,Dt.values),d(zt,{slice:jt,set:Ft,constructor:function(){},toString:ht,toLocaleString:kt}),Pt(zt,"buffer","b"),Pt(zt,"byteOffset","o"),Pt(zt,"byteLength","l"),Pt(zt,"length","e"),V(zt,vt,{get:function(){return this[mt]}}),t.exports=function(t,e,n,s){var c=t+((s=!!s)?"Clamped":"")+"Array",l="Uint8Array"!=c,d="get"+t,p="set"+t,y=i[c],b=y||{},g=y&&A(y),m=!y||!a.ABV,w={},M=y&&y.prototype,S=function(t,n){var r=t._d;return r.v[d](n*e+r.o,wt)},O=function(t,n,r){var i=t._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,wt)},R=function(t,e){V(t,e,{get:function(){return S(this,e)},set:function(t){return O(this,e,t)},enumerable:!0})};m?(y=n(function(t,n,r,i){f(t,y,c,"_d");var o,u,a,s,l=0,d=0;if(x(n)){if(!(n instanceof W||"ArrayBuffer"==(s=_(n))||"SharedArrayBuffer"==s))return mt in n?Rt(y,n):Ct.call(y,n);o=n,d=At(r,e);var p=n.byteLength;if(void 0===i){if(p%e)throw Y("Wrong length!");if((u=p-d)<0)throw Y("Wrong length!")}else if((u=v(i)*e)+d>p)throw Y("Wrong length!");a=u/e}else a=Et(n,!0),o=new W(u=a*e);for(h(t,"_d",{b:o,o:d,l:u,e:a,v:new X(o)});l<a;)R(t,l++)}),M=y.prototype=E(zt),h(M,"constructor",y)):L(function(t){new y(null),new y(t)},!0)||(y=n(function(t,n,r,i){f(t,y,c);var o;return x(n)?n instanceof W||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new b(n,At(r,e),i):void 0!==r?new b(n,At(r,e)):new b(n):mt in n?Rt(y,n):Ct.call(y,n):new b(Et(n,l))}),Z(g!==Function.prototype?T(b).concat(T(g)):T(b),function(t){t in y||h(y,t,b[t])}),y.prototype=M,r||(M.constructor=y));var P=M[pt],C=!!P&&("values"==P.name||void 0==P.name),I=Dt.values;h(y,yt,!0),h(M,mt,c),h(M,_t,!0),h(M,bt,y),(s?new y(1)[vt]==c:vt in M)||V(M,vt,{get:function(){return c}}),w[c]=y,u(u.G+u.W+u.F*(y!=b),w),u(u.S,c,{BYTES_PER_ELEMENT:e,from:Ct,of:It}),"BYTES_PER_ELEMENT"in M||h(M,"BYTES_PER_ELEMENT",e),u(u.P,c,Lt),j(c),u(u.P+u.F*Mt,c,{set:Ft}),u(u.P+u.F*!C,c,Dt),u(u.P+u.F*(M.toString!=ht),c,{toString:ht}),u(u.P+u.F*o(function(){new y(1).slice()}),c,{slice:jt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!o(function(){M.toLocaleString.call([1,2])})),c,{toLocaleString:kt}),k[c]=C?P:I,r||C||h(M,pt,I)}}else t.exports=function(){}},function(t,e,n){var r=n(130),i=n(0),o=n(54)("metadata"),u=o.store||(o.store=new(n(133))),a=function(t,e,n){var i=u.get(t);if(!i){if(!n)return;u.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o};t.exports={store:u,map:a,has:function(t,e,n){var r=a(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=a(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){a(n,r,!0).set(t,e)},keys:function(t,e){var n=a(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ARRAY_TYPE",function(){return i}),e.setMatrixArrayType=function(t){i=t},e.toRadian=function(t){return t*u},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};const r=1e-6;e.EPSILON=r;let i="undefined"!=typeof Float32Array?Float32Array:Array;const o=Math.random;e.RANDOM=o;const u=Math.PI/180},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(34)("meta"),i=n(4),o=n(10),u=n(7).f,a=0,s=Object.isExtensible||function(){return!0},c=!n(3)(function(){return s(Object.preventExtensions({}))}),f=function(t){u(t,r,{value:{i:"O"+ ++a,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!s(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!s(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return c&&l.NEED&&s(t)&&!o(t,r)&&f(t),t}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";function r(t){function e(){return++f.lastCallbackId}function n(t,e){return t.prio!==e.prio?e.prio-t.prio:t.id-e.id}function i(t){if(t)return-1===f.boundObjects.indexOf(t)&&f.boundObjects.push(t),t}function o(t,e,n){var i,o,u,a;for(o in n)n.hasOwnProperty(o)&&"function"==typeof(u=e[o])&&(i=n[o],Array.isArray(i)?(a=i[0],i=i[1]):a=r.PRIO_DEFAULT,t.on(i,a,u));return t}function c(t,e,n){function i(){var e,r,i;if(l)for(e=0;e<l;e++)"function"==typeof(i=(r=f.boundObjects[e])[t])?n(i,r):r[h]&&n(null,r)}if(!(v.silenced||v.off.indexOf(t)>=0)){var o,u,a,s=f.callbacks[t],c=f.callbacks[d],l=f.boundObjects.length,p=!1;if(s||c.length)for(u=(s=s?s.concat(c):c).length,o=0;o<u;o++)a=s[o],!p&&a&&a.prio<r.PRIO_DEFAULT&&(i(),p=!0),e(a);p||i()}}if(t[h])return t;var f={lastCallbackId:0,callbacks:{},boundObjects:[]};f.callbacks[d]=[];var v=a({},{silenced:!1,off:[]});return s(t,h,v),void 0===r.PRIO_DEFAULT&&a(r,{PRIO_MAX:Number.POSITIVE_INFINITY,PRIO_A:1e9,PRIO_B:1e7,PRIO_C:1e5,PRIO_DEFAULT:0,PRIO_LOW:-1e5,PRIO_MIN:Number.NEGATIVE_INFINITY}),t.on=function(t,i,o){var s=arguments.length;if(0!==s){var c;if(1===s){if("string"==typeof t)return void((c=v.off.indexOf(t))>=0&&v.off.splice(c,1));if("object"!=typeof t&&"function"!=typeof t)return void(l&&console.warn(p,".on() called with insufficient arguments!",arguments));o=t,t=d,i=r.PRIO_DEFAULT}2===s&&(o=i,i=r.PRIO_DEFAULT);var h=f.callbacks,y=h[t]||(h[t]=[]),b=e(),g=a({},{id:b,fn:o,prio:"number"!=typeof i?r.PRIO_DEFAULT:i,isFunction:"function"==typeof o});return y.push(g),y.sort(n),b}v.silenced&&(u(v,"silenced",!1),v.off.length=0)},t.once=function(e,n,i){var o=arguments.length;if(o&&!(o>3)){1===o?(i=e,e=d,n=r.PRIO_DEFAULT):2===o&&(i=n,n=r.PRIO_DEFAULT);var u=t.on(e,n,function(){var e=i.apply(this,arguments);return t.off(u),e});return u}l&&console.warn(p,".once() called with insufficient arguments!",arguments)},t.off=function(t){if(0!==arguments.length)if("string"!=typeof t){var e,n,r,i,o,a=f.callbacks,s="object"==typeof t;if("number"==typeof t||"function"==typeof t||s)for(o=Object.keys(a),r=0;r<o.length;r++)for(i=a[o[r]],n=0;n<i.length;n++)if(((e=i[n]).id===t||e.fn===t)&&(i.splice(n,1),!s))return;s&&(n=f.boundObjects.indexOf(t))>=0&&f.boundObjects.splice(n,1)}else-1===v.off.indexOf(t)&&v.off.push(t);else v.silenced||(u(v,"silenced",!0),v.off.length=0)},t.connect=function(t,e){var n=arguments.length;return 1===n?i(t):2===n?o(this,t,e):void(l&&console.warn(p,".connect() called with insufficient arguments!",arguments))},t.emit=function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];var n,r,i,o=this;t.length>1&&"string"!=typeof t[0]&&"string"==typeof t[1]?(r=t.shift(),n=t.shift(),t[t.length-1]=r,i=t):(n=t.shift(),i=t.concat([o])),c(n,function(e){if(e.isFunction)e.fn.apply(o,t);else{var r=e.fn[n];"function"==typeof r?r.apply(e.fn,i):e.fn[h]&&e.fn.emit.apply(e.fn,[n].concat(t))}},function(t,e){t?t.apply(e,i):e.emit.apply(e,[o,n].concat(i))})},t.emitReduce=function(){function t(t){void 0!==t&&(r=t)}for(var e=new Array(arguments.length),n=0;n<e.length;++n)e[n]=arguments[n];var r,i=e.shift();0===e.length?(r={},e.push(r)):t(e[0]);var o=this,u=[i].concat(e),a=e.concat([o]);return c(i,function(n){if(n.isFunction)e[0]=r,t(n.fn.apply(o,e));else{var s=n.fn[i];"function"==typeof s?(a[0]=r,t(s.apply(n.fn,a))):n.fn[h]&&(u[1]=r,t(n.fn.emitReduce.apply(n.fn,u)))}},function(e,n){e&&(a[0]=r,t(e.apply(n,a)))}),r},t.from=function(t,e){var n=this;return new e(function(e){var r=n.on(t,function(t){e.next(t)});return function(){n.off(r)}})},t.subscribe=function(t,e,n,r){var i=this;return t.subscribe(function(t){i.emit(e,t)},n?function(t){i.emit(n,t)}:void 0,r?function(t){i.emit(r,t)}:void 0)},t}function i(t,e){var n=("string"==typeof t||"symbol"==typeof t)&&t||o(),i=r({}),a=!(!e||!e.replace),c=function(t){u(i,v,t)},f=function(t){return function(e){t.apply(i,e)}}(i.emit);return s(i,"events",[]),u(i,"id",n),i.collect=function(){return i[v]!==b&&c(b),i},i.emit=function(){var t,e=new Array(arguments.length);for(t=0;t<e.length;++t)e[t]=arguments[t];if(i[v]===y)f(e);else{if(a){var n,r=e[0];for(t=0,n=i.events.length;t<n;t++)if(i.events[t][0]===r)return void(i.events[t]=e)}i.events.push(e)}},i.play=function(){return i[v]!==y&&(c(y),i.events.forEach(f),i.events.length=0),i},i.toggle=function(){return i[v]!==y?i.play():i.collect()},i.play()}function o(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)});return f?Symbol(t):t}function u(t,e,n){return Object.defineProperty(t,e,{value:n,configurable:!0,enumerable:!0}),t}function a(t,e){var n,r=Object.keys(e);for(n=r.length;n--;)u(t,r[n],e[r[n]]);return t}function s(t,e,n){return Object.defineProperty(t,e,{value:n,configurable:!0}),t}var c="undefined"!=typeof Map,f="undefined"!=typeof Symbol,l="undefined"!=typeof console,h=f?(Symbol.eventize||(Symbol.eventize=Symbol("eventize")),Symbol.eventize):"@@eventize",d="*",p="[eventize.js]";r.is=function(t){return!(!t||!t[h])},s(r,"EventizeNamespace",h),s(r,"queues",c?new Map:{}),r.queue=function(t){var e,n,o=arguments.length;return o>=1&&("object"==typeof t&&2!==o||(e=c?r.queues.get(t):r.queues[t]),2===o?n=arguments[1]:1===o&&"object"==typeof t&&(n=t)),e||(e=i(t,n),c?r.queues.set(e.id,e):r.queues[e.id]=e),e};var v="state",y="play",b="collect";t.exports=r},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(114),i=n(76);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(32),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(1),i=n(115),o=n(76),u=n(75)("IE_PROTO"),a=function(){},s=function(){var t,e=n(73)("iframe"),r=o.length;for(e.style.display="none",n(78).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;r--;)delete s.prototype[o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[u]=t):n=s(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(114),i=n(76).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(2),i=n(7),o=n(6),u=n(5)("species");t.exports=function(t){var e=r[t];o&&e&&!e[u]&&i.f(e,u,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(12);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(7).f,i=n(10),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(0),i=n(19),o=n(3),u=n(80),a="["+u+"]",s=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),f=function(t,e,n){var i={},a=o(function(){return!!u[t]()||"​"!="​"[t]()}),s=i[t]=a?e(l):u[t];n&&(i[n]=s),r(r.P+r.F*a,"String",i)},l=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(c,"")),t};t.exports=f},function(t,e){t.exports={}},function(t,e,n){var r=n(5)("unscopables"),i=Array.prototype;void 0==i[r]&&n(11)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(26),i=n(125),o=n(90),u=n(1),a=n(8),s=n(92),c={},f={};(e=t.exports=function(t,e,n,l,h){var d,p,v,y,b=h?function(){return t}:s(t),g=r(n,l,e?2:1),m=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(o(b)){for(d=a(t.length);d>m;m++)if((y=e?g(u(p=t[m])[0],p[1]):g(t[m]))===c||y===f)return y}else for(v=b.call(t);!(p=v.next()).done;)if((y=i(v,g,p.value,e))===c||y===f)return y}).BREAK=c,e.RETURN=f},function(t,e,n){var r=n(18);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(18),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(350);e.default=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(2),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var r=n(14),i=n(8),o=n(37);t.exports=function(t){return function(e,n,u){var a,s=r(e),c=i(s.length),f=o(u,c);if(t&&n!=n){for(;c>f;)if((a=s[f++])!=a)return!0}else for(;c>f;f++)if((t||f in s)&&s[f]===n)return t||f||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(4),i=n(18),o=n(5)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],u=o[r]();u.next=function(){return{done:n=!0}},o[r]=function(){return u},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(1);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(11),i=n(12),o=n(3),u=n(19),a=n(5);t.exports=function(t,e,n){var s=a(t),c=n(u,s,""[t]),f=c[0],l=c[1];o(function(){var e={};return e[s]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,f),r(RegExp.prototype,s,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)}))}},function(t,e,n){"use strict";var r=n(2),i=n(0),o=n(12),u=n(42),a=n(31),s=n(47),c=n(41),f=n(4),l=n(3),h=n(59),d=n(43),p=n(81);t.exports=function(t,e,n,v,y,b){var g=r[t],m=g,_=y?"set":"add",x=m&&m.prototype,w={},M=function(t){var e=x[t];o(x,t,"delete"==t?function(t){return!(b&&!f(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!f(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof m&&(b||x.forEach&&!l(function(){(new m).entries().next()}))){var E=new m,A=E[_](b?{}:-0,1)!=E,T=l(function(){E.has(1)}),S=h(function(t){new m(t)}),O=!b&&l(function(){for(var t=new m,e=5;e--;)t[_](e,e);return!t.has(-0)});S||((m=e(function(e,n){c(e,m,t);var r=p(new g,e,m);return void 0!=n&&s(n,y,r[_],r),r})).prototype=x,x.constructor=m),(T||O)&&(M("delete"),M("has"),y&&M("get")),(O||A)&&M(_),b&&x.clear&&delete x.clear}else m=v.getConstructor(e,t,y,_),u(m.prototype,n),a.NEED=!0;return d(m,t),w[t]=m,i(i.G+i.W+i.F*(m!=g),w),b||v.setStrong(m,t,y),m}},function(t,e,n){for(var r,i=n(2),o=n(11),u=n(34),a=u("typed_array"),s=u("view"),c=!(!i.ArrayBuffer||!i.DataView),f=c,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(r=i[h[l++]])?(o(r.prototype,a,!0),o(r.prototype,s,!0)):f=!1;t.exports={ABV:c,CONSTR:f,TYPED:a,VIEW:s}},function(t,e,n){t.exports=n(35)||!n(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(2)[t]})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(n(51)),u=r(n(356)),a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.resource=e,this.hints=n,this.id=n.id||(0,o.default)(),this.serial=new u.default("number"==typeof n.serial?n.serial:1)}return t.prototype.isSynced=function(t){var e=this.serial.value;return e>0&&e===t.serial.value},t.prototype.needSync=function(t){return!this.isSynced(t)},t.prototype.sync=function(t,e){this.needSync(t)&&(e(this.resource),this.serial.value=t.serial.value)},t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var r=Object.freeze({float32:4,int16:2,int32:4,int8:1,uint16:2,uint32:4,uint8:1}),i=Object.freeze({float32:Float32Array,int16:Int16Array,int32:Int32Array,int8:Int8Array,uint16:Uint16Array,uint32:Uint32Array,uint8:Uint8Array}),o=Object.freeze({float32:function(t){return t.float32Array},int32:function(t){return t.int32Array},int16:function(t){return t.int16Array},int8:function(t){return t.int8Array},uint32:function(t){return t.uint32Array},uint16:function(t){return t.uint16Array},uint8:function(t){return t.uint8Array}}),u=Object.freeze({float32:"FLOAT",int16:"SHORT",int32:"INT",int8:"BYTE",uint16:"UNSIGNED_SHORT",uint32:"UNSIGNED_INT",uint8:"UNSIGNED_BYTE"});e.BYTES_PER_ELEMENT=r,e.TYPED_ARRAY_CONSTRUCTOR=i,e.TYPED_ARRAY_GETTER=o,e.GL_ITEM_TYPES=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n,i){r(this,t),this.name=e,this.type=n,this._value=i,this.serial=0}return t.prototype.touch=function(){++this.serial},i(t,[{key:"value",get:function(){return this._value},set:function(t){this._value!==t&&(this._value=t,++this.serial)}}]),t}();e.default=o,o.TYPE=Object.freeze({UNIFORM:"uniform",ATTRIB:"attrib",TEXTURE_2D:"tex2d"})},function(t,e,n){var r=n(105).Symbol;t.exports=r},function(t,e,n){var r=n(52),i=n(434),o=n(435),u=n(104);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(u(t))}},function(t,e,n){var r=n(109)(Object,"create");t.exports=r},function(t,e,n){var r=n(155);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(460);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(4),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(2),i=n(25),o=n(35),u=n(113),a=n(7).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},function(t,e,n){var r=n(54)("keys"),i=n(34);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(18);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){t.exports=n(2).document&&document.documentElement},function(t,e,n){var r=n(4),i=n(1),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(26)(Function.call,n(16).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(4),i=n(79).set;t.exports=function(t,e,n){var o,u=e.constructor;return u!==n&&"function"==typeof u&&(o=u.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(32),i=n(19);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(32),i=n(19);t.exports=function(t){return function(e,n){var o,u,a=String(i(e)),s=r(n),c=a.length;return s<0||s>=c?t?"":void 0:(o=a.charCodeAt(s))<55296||o>56319||s+1===c||(u=a.charCodeAt(s+1))<56320||u>57343?t?a.charAt(s):o:t?a.slice(s,s+2):u-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(35),i=n(0),o=n(12),u=n(11),a=n(10),s=n(45),c=n(87),f=n(43),l=n(17),h=n(5)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,v,y,b,g){c(n,e,v);var m,_,x,w=function(t){if(!d&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},M=e+" Iterator",E="values"==y,A=!1,T=t.prototype,S=T[h]||T["@@iterator"]||y&&T[y],O=S||w(y),R=y?E?w("entries"):O:void 0,P="Array"==e?T.entries||S:S;if(P&&(x=l(P.call(new t)))!==Object.prototype&&(f(x,M,!0),r||a(x,h)||u(x,h,p)),E&&S&&"values"!==S.name&&(A=!0,O=function(){return S.call(this)}),r&&!g||!d&&!A&&T[h]||u(T,h,O),s[e]=O,s[M]=p,y)if(m={values:E?O:w("values"),keys:b?O:w("keys"),entries:R},g)for(_ in m)_ in T||o(T,_,m[_]);else i(i.P+i.F*(d||A),e,m);return m}},function(t,e,n){"use strict";var r=n(38),i=n(30),o=n(43),u={};n(11)(u,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(58),i=n(19);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(45),i=n(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(7),i=n(30);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(50),i=n(5)("iterator"),o=n(45);t.exports=n(25).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(9),i=n(37),o=n(8);t.exports=function(t){for(var e=r(this),n=o(e.length),u=arguments.length,a=i(u>1?arguments[1]:void 0,n),s=u>2?arguments[2]:void 0,c=void 0===s?n:i(s,n);c>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(46),i=n(128),o=n(45),u=n(14);t.exports=n(86)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(1),i=n(13),o=n(5)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||void 0==(n=r(u)[o])?e:i(n)}},function(t,e,n){var r,i,o,u=n(26),a=n(57),s=n(78),c=n(73),f=n(2),l=f.process,h=f.setImmediate,d=f.clearImmediate,p=f.MessageChannel,v=0,y={},b=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},g=function(t){b.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++v]=function(){a("function"==typeof t?t:Function(t),e)},r(v),v},d=function(t){delete y[t]},"process"==n(18)(l)?r=function(t){l.nextTick(u(b,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=g,r=u(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",g,!1)):r="onreadystatechange"in c("script")?function(t){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:d}},function(t,e,n){var r=n(2),i=n(96).set,o=r.MutationObserver||r.WebKitMutationObserver,u=r.process,a=r.Promise,s="process"==n(18)(u);t.exports=function(){var t,e,n,c=function(){var r,i;for(s&&(r=u.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(s)n=function(){u.nextTick(c)};else if(o){var f=!0,l=document.createTextNode("");new o(c).observe(l,{characterData:!0}),n=function(){l.data=f=!f}}else if(a&&a.resolve){var h=a.resolve();n=function(){h.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";var r=n(2),i=n(6),o=n(35),u=n(63),a=n(11),s=n(42),c=n(3),f=n(41),l=n(32),h=n(8),d=n(39).f,p=n(7).f,v=n(93),y=n(43),b=r.ArrayBuffer,g=r.DataView,m=r.Math,_=r.RangeError,x=r.Infinity,w=b,M=m.abs,E=m.pow,A=m.floor,T=m.log,S=m.LN2,O=i?"_b":"buffer",R=i?"_l":"byteLength",P=i?"_o":"byteOffset",C=function(t,e,n){var r,i,o,u=Array(n),a=8*n-e-1,s=(1<<a)-1,c=s>>1,f=23===e?E(2,-24)-E(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for((t=M(t))!=t||t===x?(i=t!=t?1:0,r=s):(r=A(T(t)/S),t*(o=E(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?f/o:f*E(2,1-c))*o>=2&&(r++,o/=2),r+c>=s?(i=0,r=s):r+c>=1?(i=(t*o-1)*E(2,e),r+=c):(i=t*E(2,c-1)*E(2,e),r=0));e>=8;u[l++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;a>0;u[l++]=255&r,r/=256,a-=8);return u[--l]|=128*h,u},I=function(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,u=o>>1,a=i-7,s=n-1,c=t[s--],f=127&c;for(c>>=7;a>0;f=256*f+t[s],s--,a-=8);for(r=f&(1<<-a)-1,f>>=-a,a+=e;a>0;r=256*r+t[s],s--,a-=8);if(0===f)f=1-u;else{if(f===o)return r?NaN:c?-x:x;r+=E(2,e),f-=u}return(c?-1:1)*r*E(2,f-e)},N=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},k=function(t){return[255&t]},L=function(t){return[255&t,t>>8&255]},j=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},F=function(t){return C(t,52,8)},D=function(t){return C(t,23,4)},U=function(t,e,n){p(t.prototype,e,{get:function(){return this[n]}})},B=function(t,e,n,r){var i=+n,o=l(i);if(i!=o||o<0||o+e>t[R])throw _("Wrong index!");var u=t[O]._b,a=o+t[P],s=u.slice(a,a+e);return r?s:s.reverse()},V=function(t,e,n,r,i,o){var u=+n,a=l(u);if(u!=a||a<0||a+e>t[R])throw _("Wrong index!");for(var s=t[O]._b,c=a+t[P],f=r(+i),h=0;h<e;h++)s[c+h]=f[o?h:e-h-1]},z=function(t,e){f(t,b,"ArrayBuffer");var n=+e,r=h(n);if(n!=r)throw _("Wrong length!");return r};if(u.ABV){if(!c(function(){new b})||!c(function(){new b(.5)})){for(var Y,G=(b=function(t){return new w(z(this,t))}).prototype=w.prototype,q=d(w),H=0;q.length>H;)(Y=q[H++])in b||a(b,Y,w[Y]);o||(G.constructor=b)}var W=new g(new b(2)),X=g.prototype.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||s(g.prototype,{setInt8:function(t,e){X.call(this,t,e<<24>>24)},setUint8:function(t,e){X.call(this,t,e<<24>>24)}},!0)}else b=function(t){var e=z(this,t);this._b=v.call(Array(e),0),this[R]=e},g=function(t,e,n){f(this,g,"DataView"),f(t,b,"DataView");var r=t[R],i=l(e);if(i<0||i>r)throw _("Wrong offset!");if(n=void 0===n?r-i:h(n),i+n>r)throw _("Wrong length!");this[O]=t,this[P]=i,this[R]=n},i&&(U(b,"byteLength","_l"),U(g,"buffer","_b"),U(g,"byteLength","_l"),U(g,"byteOffset","_o")),s(g.prototype,{getInt8:function(t){return B(this,1,t)[0]<<24>>24},getUint8:function(t){return B(this,1,t)[0]},getInt16:function(t){var e=B(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=B(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return N(B(this,4,t,arguments[1]))},getUint32:function(t){return N(B(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return I(B(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return I(B(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){V(this,1,t,k,e)},setUint8:function(t,e){V(this,1,t,k,e)},setInt16:function(t,e){V(this,2,t,L,e,arguments[2])},setUint16:function(t,e){V(this,2,t,L,e,arguments[2])},setInt32:function(t,e){V(this,4,t,j,e,arguments[2])},setUint32:function(t,e){V(this,4,t,j,e,arguments[2])},setFloat32:function(t,e){V(this,4,t,D,e,arguments[2])},setFloat64:function(t,e){V(this,8,t,F,e,arguments[2])}});y(b,"ArrayBuffer"),y(g,"DataView"),a(g.prototype,u.VIEW,!0),e.ArrayBuffer=b,e.DataView=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(65)),u=n(66),a=function(){function t(e,n,i){var a=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.USAGE.DYNAMIC,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;r(this,t),this.resourceRef=new o.default(this,{usage:s}),this.descriptor=e,this.capacity=n,i instanceof ArrayBuffer?this.float32Array=new Float32Array(i):i instanceof DataView?this.float32Array=new Float32Array(i.buffer,i.byteOffset,i.byteLength/4):i instanceof Float32Array?this.float32Array=i:this.float32Array=new Float32Array(new ArrayBuffer(n*e.bytesPerVO)),this.resourceRef.hints.typedArray=this.float32Array;var f=this.buffer,l=this.bufferByteOffset,h=this.bufferByteLength;e.typeList.filter(function(t){return"float32"!==t}).forEach(function(t){a[t+"Array"]=new u.TYPED_ARRAY_CONSTRUCTOR[t](f,l,h/u.BYTES_PER_ELEMENT[t])}),this.enableAutotouch="boolean"==typeof c?c:s===t.USAGE.DYNAMIC,Object.freeze(this)}return t.prototype.touch=function(){this.resourceRef.serial.touch()},t.prototype.copy=function(t,e){var n=0;void 0===e&&(n=e*(this.descriptor.bytesPerVO>>2)),this.float32Array.set(t.float32Array,n)},t.prototype.subarray=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new t(this.descriptor,n,new DataView(this.buffer,this.bufferByteOffset+e*this.descriptor.bytesPerVO,n*this.descriptor.bytesPerVO))},i(t,[{key:"buffer",get:function(){return this.float32Array.buffer}},{key:"bufferByteOffset",get:function(){return this.float32Array.byteOffset}},{key:"bufferByteLength",get:function(){return this.float32Array.byteLength}}]),t}();e.default=a,a.USAGE=Object.freeze({STATIC:"static",DYNAMIC:"dynamic"})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){if(t.attrNames){var r=t.attrNames[n];if(void 0!==r)return r}return e+"_"+n}function o(t,e){return function(n){return t(this.voArray)[e+n]}}function u(t,e,n,r,i){return function(){var o=t(this.voArray),u=void 0,a=void 0;for(u=0;u<n;++u)for(a=0;a<e;++a)o[u*r+i+a]=arguments[a]}}function a(t,e){return function(){return t(this.voArray)[e]}}function s(t,e,n,r,i){return function(){var o=t(this.voArray),u=void 0,a=void 0;for(u=0;u<n;++u)for(a=0;a<e;++a)o[u*r+i+a]=arguments[u*e+a]}}function c(t,e,n,r){return function(i){for(var o=t(this.voArray),u=0;u<e;++u)o[u*n+r]=i}}function f(t){return t[0].toUpperCase()+t.substr(1)}e.__esModule=!0;var l=n(66),h=function(){function t(e,n,i,o,u,a,s){r(this,t),this.name=e,this.type=n,this.size=i,this.uniform=a,this.attrNames=s,this.bytesPerElement=l.BYTES_PER_ELEMENT[this.type],this.bytesPerVertex=this.bytesPerElement*i,this.byteOffset="number"!=typeof u?o*this.bytesPerElement:u,this.offset="number"!=typeof o?u/this.bytesPerElement:o}return t.prototype.vertexAttrCount=function(t){return t.bytesPerVertex/this.bytesPerElement},t.defineProperties=function(t,e,n){var r=t.name,h=l.TYPED_ARRAY_GETTER[t.type],d=n.vertexCount,p=t.vertexAttrCount(n),v=t.byteOffset/t.bytesPerElement,y=void 0,b=void 0;if(1===t.size)if(t.uniform){var g=a(h,v),m=c(h,d,p,v);t.getValue=function(t){return g.call(t)},t.setValue=function(t,e){return m.call(t,e)},e[r]={get:g,set:m,enumerable:!0}}else{var _=s(h,1,d,p,v);t.setValue=function(t,e){return _.apply(t,e)},e["set"+f(r)]={value:_,enumerable:!0};var x=[];for(y=0;y<n.vertexCount;++y){var w=a(h,v+y*p);x.push(w),e[r+y]={get:w,set:s(h,1,1,0,v+y*p),enumerable:!0}}t.getValue=function(t,e){return x[e].call(t)}}else if(t.size>=2)if(t.uniform){var M=o(h,v),E=u(h,t.size,d,p,v);for(t.getValue=function(t,e,n){return M.call(t,n)},t.setValue=function(t,e){return E.apply(t,e)},e["get"+f(r)]={value:M,enumerable:!0},e["set"+f(r)]={value:E,enumerable:!0},y=0;y<t.size;++y)e[i(t,r,y)]={get:a(h,v+y),set:c(h,d,p,v+y),enumerable:!0}}else{var A=s(h,t.size,d,p,v);t.setValue=function(t,e){return A.apply(t,e)},e["set"+f(r)]={value:A,enumerable:!0};var T=[];for(y=0;y<n.vertexCount;++y){var S=[];for(b=0;b<t.size;++b){var O=i(t,r,b)+y,R=a(h,v+y*p+b);S.push(R),e[O]={get:R,set:s(h,1,1,0,v+y*p+b),enumerable:!0}}T.push(S)}t.getValue=function(t,e,n){return T[e][n].call(t)}}},t}();e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(n(142)),s=r(n(65)),c=function(t,e,n){return null!=t&&void 0!==t[e]?t[e]:n},f=function(){function t(e,n,r){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;if(i(this,t),e instanceof t)this.parent=e,this.image=null;else{if(!("object"===(void 0===e?"undefined":o(e))&&"width"in e&&"height"in e))throw new Error("new Texture() panic: unexpected source argument!");this.image=e,this.parent=null,this._resourceRef=new s.default(this,{flipY:c(f,"flipY",!1),repeatable:c(f,"repeatable",!1),premultiplyAlpha:c(f,"premultiplyAlpha",!0),nearest:c(f,"nearest",!1)}),"origWidth"in e&&"origHeight"in e&&(n=e.origWidth,r=e.origHeight)}this._width=n,this._height=r,this.x=u,this.y=a}return t.load=function(e,n){return new a.default(e).complete.then(function(e){return new t(e,void 0,void 0,0,0,n)})},u(t,[{key:"root",get:function(){return this.parent&&this.parent.root||this}},{key:"imgEl",get:function(){var t=this.root;return t.image.imgEl||t.image}},{key:"resourceRef",get:function(){return this._resourceRef||this.root.resourceRef}},{key:"width",get:function(){return"number"==typeof this._width?this._width:this.image?this.image.width:this.parent?this.root.width:0},set:function(t){this._width=t}},{key:"height",get:function(){return"number"==typeof this._height?this._height:this.image?this.image.height:this.parent?this.root.height:0},set:function(t){this._height=t}},{key:"minS",get:function(){for(var t=this.x,e=this;null!=(e=e.parent);)t+=e.x;return t/this.root.image.width}},{key:"minT",get:function(){for(var t=this.y,e=this;null!=(e=e.parent);)t+=e.y;return t/this.root.image.height}},{key:"maxS",get:function(){for(var t=this.x+this.width,e=this;null!=(e=e.parent);)t+=e.x;return t/this.root.image.width}},{key:"maxT",get:function(){for(var t=this.y+this.height,e=this;null!=(e=e.parent);)t+=e.y;return t/this.root.image.height}}]),t}();e.default=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){r(this,t),this.shaderVars=e}return t.prototype.pushVar=function(t){this.shaderVars.forEach(t.pushVar.bind(t))},t.prototype.popVar=function(t){this.shaderVars.forEach(t.popVar.bind(t))},t}();e.default=i},function(t,e,n){"use strict";function r(t){var e=t.length;if(e>=2&&t.startsWith('"')&&t.endsWith('"'))return t.substr(1,t.length-2);if(e>=2&&t.startsWith("{")&&t.endsWith("}"))return JSON.parse(t);if(e>=2&&t.startsWith("[")&&t.endsWith("]"))return JSON.parse(t);if(e>=2&&t.startsWith("'")&&t.endsWith("'"))return t.substr(1,t.length-2);if(e>0&&s.exec(t))return parseFloat(t);var n=c.exec(t);if(n)return new URL(n[1].trim());if(n=f.exec(t))return new Float32Array(n.slice(1,3).map(parseFloat));if(n=l.exec(t))return new Float32Array(n.slice(1,4).map(parseFloat));if(n=h.exec(t))return new Float32Array(n.slice(1,5).map(parseFloat));switch(t){case"null":return null;case"undefined":return;case"true":return!0;case"false":return!1;default:return t}}function i(t,e){var n=t.length,r=e;if(r>=n)return n;do{if(" "!==t[r]&&"\t"!==t[r])return r;++r}while(r<n);return n}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:";",r=t.length,i=e,o=null;do{if(null===o)switch(t[i]){case n:return i;case"'":o="'",++i;break;case'"':o='"',++i;break;case"(":o=")",++i;break;case"{":o="}",++i;break;case"\\":i+=2;break;default:++i}else t[i]===o?(o=null,++i):"\\"===t[i]?i+=2:++i}while(i<r);return r}function u(t){if("string"==typeof t&&t){var e=[],n=t.length,r=i(t,0);do{var u=o(t,r,";");u>r&&e.push(t.slice(r,u)),r=i(t,u+1)}while(r<n);return e}}function a(t){var e=u(t);if(e)return e.map(function(t){if(d.exec(t))return{value:t.trim()};var e=t.indexOf(":");return-1===e?{value:t.trim()}:{key:t.slice(0,e).trim(),value:t.substr(e+1).trim()}}).filter(function(t){return!(""===t.key&&""===t.value)})}e.__esModule=!0;var s=/^[-+]?(\d+\.|\.)?\d+(e\d+|e[-+]\d+)?$/,c=/^url\(\s*([^)]+)\)$/,f=/^vec2\(\s*([-+\d.e]+)\s*,\s*([-+\d.e]+)\s*\)$/,l=/^vec3\(\s*([-+\d.e]+)\s*,\s*([-+\d.e]+)\s*,\s*([-+\d.e]+)\s*\)$/,h=/^vec4\(\s*([-+\d.e]+)\s*,\s*([-+\d.e]+)\s*,\s*([-+\d.e]+)\s*,\s*([-+\d.e]+)\s*\)$/,d=/^\s*[a-zA-Z]+\(\s*[^)]+\)\s*$/;e.default=function(t){if("string"!=typeof t)return t;var e=t.trim();if(e.startsWith("{")&&e.endsWith("}"))return JSON.parse(e);var n=a(e);if(n&&0!==n.length){if("key"in n[0]){var i={};return n.forEach(function(t){var e=t.key,n=t.value;i[e]=r(n)}),i}var o=n.map(function(t){return r(t.value)});return 1===o.length?o[0]:o}},e.splitIntoPropTokens=u,e.splitIntoProps=a,e.indexOfNextNonWhitespace=i,e.indexOfNextSeperator=o,e.parseValue=r},function(t,e,n){var r=n(405);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(406),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(107),i=n(108),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(68),i=n(408),o=n(409),u="[object Null]",a="[object Undefined]",s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:u:s&&s in Object(t)?i(t):o(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(442),i=n(447);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(106),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){t.exports=!n(6)&&!n(3)(function(){return 7!=Object.defineProperty(n(73)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(5)},function(t,e,n){var r=n(10),i=n(14),o=n(55)(!1),u=n(75)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),s=0,c=[];for(n in a)n!=u&&r(a,n)&&c.push(n);for(;e.length>s;)r(a,n=e[s++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(7),i=n(1),o=n(36);t.exports=n(6)?Object.defineProperties:function(t,e){i(t);for(var n,u=o(e),a=u.length,s=0;a>s;)r.f(t,n=u[s++],e[n]);return t}},function(t,e,n){var r=n(14),i=n(39).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?a(t):i(r(t))}},function(t,e,n){"use strict";var r=n(36),i=n(56),o=n(49),u=n(9),a=n(48),s=Object.assign;t.exports=!s||n(3)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=r})?function(t,e){for(var n=u(t),s=arguments.length,c=1,f=i.f,l=o.f;s>c;)for(var h,d=a(arguments[c++]),p=f?r(d).concat(f(d)):r(d),v=p.length,y=0;v>y;)l.call(d,h=p[y++])&&(n[h]=d[h]);return n}:s},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(13),i=n(4),o=n(57),u=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=u.call(arguments,1),a=function(){var r=n.concat(u.call(arguments));return this instanceof a?s(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){var r=n(2).parseInt,i=n(44).trim,o=n(80),u=/^[\-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(u.test(n)?16:10))}:r},function(t,e,n){var r=n(2).parseFloat,i=n(44).trim;t.exports=1/r(n(80)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(18);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(4),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(1);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(13),i=n(9),o=n(48),u=n(8);t.exports=function(t,e,n,a,s){r(e);var c=i(t),f=o(c),l=u(c.length),h=s?l-1:0,d=s?-1:1;if(n<2)for(;;){if(h in f){a=f[h],h+=d;break}if(h+=d,s?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;s?h>=0:l>h;h+=d)h in f&&(a=e(a,f[h],h,c));return a}},function(t,e,n){"use strict";var r=n(9),i=n(37),o=n(8);t.exports=[].copyWithin||function(t,e){var n=r(this),u=o(n.length),a=i(t,u),s=i(e,u),c=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===c?u:i(c,u))-s,u-a),l=1;for(s<a&&a<s+f&&(l=-1,s+=f-1,a+=f-1);f-- >0;)s in n?n[a]=n[s]:delete n[a],a+=l,s+=l;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(6)&&"g"!=/./g.flags&&n(7).f(RegExp.prototype,"flags",{configurable:!0,get:n(60)})},function(t,e,n){"use strict";var r=n(131);t.exports=n(62)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(this,t);return e&&e.v},set:function(t,e){return r.def(this,0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(7).f,i=n(38),o=n(42),u=n(26),a=n(41),s=n(19),c=n(47),f=n(86),l=n(128),h=n(40),d=n(6),p=n(31).fastKey,v=d?"_s":"size",y=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,f){var l=t(function(t,r){a(t,l,e,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&c(r,n,t[f],t)});return o(l.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var e=this,n=y(e,t);if(n){var r=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e._f==n&&(e._f=r),e._l==n&&(e._l=i),e[v]--}return!!n},forEach:function(t){a(this,l,"forEach");for(var e,n=u(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!y(this,t)}}),d&&r(l.prototype,"size",{get:function(){return s(this[v])}}),l},def:function(t,e,n){var r,i,o=y(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,e,n){f(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(131);t.exports=n(62)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(24)(0),o=n(12),u=n(31),a=n(117),s=n(134),c=n(4),f=u.getWeak,l=Object.isExtensible,h=s.ufstore,d={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(c(t)){var e=f(t);return!0===e?h(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return s.def(this,t,e)}},y=t.exports=n(62)("WeakMap",p,v,s,!0,!0);7!=(new y).set((Object.freeze||Object)(d),7).get(d)&&(a((r=s.getConstructor(p)).prototype,v),u.NEED=!0,i(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];o(e,t,function(e,i){if(c(e)&&!l(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(42),i=n(31).getWeak,o=n(1),u=n(4),a=n(41),s=n(47),c=n(24),f=n(10),l=c(5),h=c(6),d=0,p=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},y=function(t,e){return l(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,r){a(t,c,e,"_i"),t._i=d++,t._l=void 0,void 0!=r&&s(r,n,t[o],t)});return r(c.prototype,{delete:function(t){if(!u(t))return!1;var e=i(t);return!0===e?p(this).delete(t):e&&f(e,this._i)&&delete e[this._i]},has:function(t){if(!u(t))return!1;var e=i(t);return!0===e?p(this).has(t):e&&f(e,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?p(t).set(e,n):r[t._i]=n,t},ufstore:p}},function(t,e,n){var r=n(39),i=n(56),o=n(1),u=n(2).Reflect;t.exports=u&&u.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(8),i=n(82),o=n(19);t.exports=function(t,e,n,u){var a=String(o(t)),s=a.length,c=void 0===n?" ":String(n),f=r(e);if(f<=s||""==c)return a;var l=f-s,h=i.call(c,Math.ceil(l/c.length));return h.length>l&&(h=h.slice(0,l)),u?h+a:a+h}},function(t,e,n){var r=n(36),i=n(14),o=n(49).f;t.exports=function(t){return function(e){for(var n,u=i(e),a=r(u),s=a.length,c=0,f=[];s>c;)o.call(u,n=a[c++])&&f.push(t?[n,u[n]]:u[n]);return f}}},function(t,e,n){var r=n(50),i=n(139);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(47);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=r(n(344)),o=r(n(144)),u=n(21),a=r(n(493));customElements.get(u.DOM_ELEM_CANVAS)?(0,a.default)("custom elements for <blitpunk> already defined!"):((0,a.default)("defining custom elements for <blitpunk> .."),(0,i.default)());var s={utils:{sample:o.default}},c=customElements.whenDefined(u.DOM_ELEM_CANVAS).then(function(){return(0,a.default)(".. <blitpunk> elements are defined!"),s});e.default=function(){return c}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(51)),o=function t(e,n){r(this,t),this.id=(0,i.default)(),this.type=e,this.source=n instanceof HTMLElement?n.textContent:n};e.default=o,o.VERTEX_SHADER="VERTEX_SHADER",o.FRAGMENT_SHADER="FRAGMENT_SHADER"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){t.imgEl=(0,a.isPowerOf2)(e.width)&&(0,a.isPowerOf2)(e.height)?e:o(e),t.origWidth=e.width,t.origHeight=e.height}function o(t){var e=(0,a.findNextPowerOf2)(t.width),n=(0,a.findNextPowerOf2)(t.height),r=document.createElement("canvas");return r.width=e,r.height=n,r.getContext("2d").drawImage(t,0,0),r}e.__esModule=!0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(371),s=function(){function t(e){var n=this;r(this,t);var o=void 0;"string"==typeof e?(o=new window.Image).src=e:o=e,!1===o.complete||0===o.width&&0===o.height?(this.imgEl=null,this.complete=new Promise(function(t){var e=o.onload;o.onload=function(){e&&e.call(o),i(n,o),t(n)}})):(i(this,o),this.complete=Promise.resolve(this))}return u(t,[{key:"isComplete",get:function(){return null!=this.imgEl}},{key:"width",get:function(){return this.imgEl&&this.imgEl.width||0}},{key:"height",get:function(){return this.imgEl&&this.imgEl.height||0}}]),t}();e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(n(101)),u=r(n(373)),a=r(n(144)),s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,t),this.rootTexture=e,this.spec=n,this.frames=new Map}return t.prototype.addFrame=function(t,e,n,r,i){this.frames.set(t,new o.default(this.rootTexture,e,n,r,i))},t.prototype.getFrame=function(t){return this.frames.get(t)},t.prototype.getRandomFrame=function(){return(0,a.default)(Array.from(this.frames.values()))},t.prototype.getRandomFrameName=function(){return(0,a.default)(this.frameNames())},t.prototype.frameNames=function(){return Array.from(this.frames.keys())},t.load=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return u.default.load(t,e||{}).then(function(t){return t.createTextureAtlas(n||t.imageUrl,r)})},t}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return t[Math.random()*t.length|0]}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(t){return t&&t.__esModule?t:{default:t}}(n(67)),a=function(t){function e(n,o){r(this,e);var a=i(this,t.call(this,n,u.default.TYPE.TEXTURE_2D,o));return a.texture=null,a}return o(e,t),e.prototype.syncTextureAndValue=function(t){if(null!=this.texture){var e=t.syncTexture(this.texture);this.value=e.bind()}},e}(u.default);e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ARRAY_BUFFER,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.STATIC_DRAW;r(this,t),this.glx=e;var o=e.gl;this.target=o[n],this.usage=o[i],this.glBuffer=o.createBuffer()}return t.prototype.bindBuffer=function(){this.glx.bindBuffer(this.target,this.glBuffer)},t.prototype.bufferData=function(t){this.bindBuffer(),this.glx.gl.bufferData(this.target,t,this.usage)},t}();e.default=i,i.ARRAY_BUFFER="ARRAY_BUFFER",i.ELEMENT_ARRAY_BUFFER="ELEMENT_ARRAY_BUFFER",i.STATIC_DRAW="STATIC_DRAW",i.DYNAMIC_DRAW="DYNAMIC_DRAW"},function(t,e,n){var r;!function(i){function o(t,e){if(t=t||"",e=e||{},t instanceof o)return t;if(!(this instanceof o))return new o(t,e);var n=u(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=G(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=G(this._r)),this._g<1&&(this._g=G(this._g)),this._b<1&&(this._b=G(this._b)),this._ok=n.ok,this._tc_id=Y++}function u(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,u=!1,s=!1;return"string"==typeof t&&(t=U(t)),"object"==typeof t&&(D(t.r)&&D(t.g)&&D(t.b)?(e=a(t.r,t.g,t.b),u=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):D(t.h)&&D(t.s)&&D(t.v)?(r=L(t.s),i=L(t.v),e=l(t.h,r,i),u=!0,s="hsv"):D(t.h)&&D(t.s)&&D(t.l)&&(r=L(t.s),o=L(t.l),e=c(t.h,r,o),u=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=O(n),{ok:u,format:t.format||s,r:q(255,H(e.r,0)),g:q(255,H(e.g,0)),b:q(255,H(e.b,0)),a:n}}function a(t,e,n){return{r:255*R(t,255),g:255*R(e,255),b:255*R(n,255)}}function s(t,e,n){t=R(t,255),e=R(e,255),n=R(n,255);var r,i,o=H(t,e,n),u=q(t,e,n),a=(o+u)/2;if(o==u)r=i=0;else{var s=o-u;switch(i=a>.5?s/(2-o-u):s/(o+u),o){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:i,l:a}}function c(t,e,n){function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var i,o,u;if(t=R(t,360),e=R(e,100),n=R(n,100),0===e)i=o=u=n;else{var a=n<.5?n*(1+e):n+e-n*e,s=2*n-a;i=r(s,a,t+1/3),o=r(s,a,t),u=r(s,a,t-1/3)}return{r:255*i,g:255*o,b:255*u}}function f(t,e,n){t=R(t,255),e=R(e,255),n=R(n,255);var r,i,o=H(t,e,n),u=q(t,e,n),a=o,s=o-u;if(i=0===o?0:s/o,o==u)r=0;else{switch(o){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:i,v:a}}function l(t,e,n){t=6*R(t,360),e=R(e,100),n=R(n,100);var r=i.floor(t),o=t-r,u=n*(1-e),a=n*(1-o*e),s=n*(1-(1-o)*e),c=r%6;return{r:255*[n,a,u,u,s,n][c],g:255*[s,n,n,a,u,u][c],b:255*[u,u,s,n,n,a][c]}}function h(t,e,n,r){var i=[k(G(t).toString(16)),k(G(e).toString(16)),k(G(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function d(t,e,n,r,i){var o=[k(G(t).toString(16)),k(G(e).toString(16)),k(G(n).toString(16)),k(j(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function p(t,e,n,r){return[k(j(r)),k(G(t).toString(16)),k(G(e).toString(16)),k(G(n).toString(16))].join("")}function v(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s-=e/100,n.s=P(n.s),o(n)}function y(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s+=e/100,n.s=P(n.s),o(n)}function b(t){return o(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l+=e/100,n.l=P(n.l),o(n)}function m(t,e){e=0===e?0:e||10;var n=o(t).toRgb();return n.r=H(0,q(255,n.r-G(-e/100*255))),n.g=H(0,q(255,n.g-G(-e/100*255))),n.b=H(0,q(255,n.b-G(-e/100*255))),o(n)}function _(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l-=e/100,n.l=P(n.l),o(n)}function x(t,e){var n=o(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,o(n)}function w(t){var e=o(t).toHsl();return e.h=(e.h+180)%360,o(e)}function M(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+120)%360,s:e.s,l:e.l}),o({h:(n+240)%360,s:e.s,l:e.l})]}function E(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+90)%360,s:e.s,l:e.l}),o({h:(n+180)%360,s:e.s,l:e.l}),o({h:(n+270)%360,s:e.s,l:e.l})]}function A(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+72)%360,s:e.s,l:e.l}),o({h:(n+216)%360,s:e.s,l:e.l})]}function T(t,e,n){e=e||6,n=n||30;var r=o(t).toHsl(),i=360/n,u=[o(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,u.push(o(r));return u}function S(t,e){e=e||6;for(var n=o(t).toHsv(),r=n.h,i=n.s,u=n.v,a=[],s=1/e;e--;)a.push(o({h:r,s:i,v:u})),u=(u+s)%1;return a}function O(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function R(t,e){I(t)&&(t="100%");var n=N(t);return t=q(e,H(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function P(t){return q(1,H(0,t))}function C(t){return parseInt(t,16)}function I(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function N(t){return"string"==typeof t&&-1!=t.indexOf("%")}function k(t){return 1==t.length?"0"+t:""+t}function L(t){return t<=1&&(t=100*t+"%"),t}function j(t){return i.round(255*parseFloat(t)).toString(16)}function F(t){return C(t)/255}function D(t){return!!$.CSS_UNIT.exec(t)}function U(t){t=t.replace(V,"").replace(z,"").toLowerCase();var e=!1;if(X[t])t=X[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=$.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=$.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=$.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=$.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$.hex8.exec(t))?{r:C(n[1]),g:C(n[2]),b:C(n[3]),a:F(n[4]),format:e?"name":"hex8"}:(n=$.hex6.exec(t))?{r:C(n[1]),g:C(n[2]),b:C(n[3]),format:e?"name":"hex"}:(n=$.hex4.exec(t))?{r:C(n[1]+""+n[1]),g:C(n[2]+""+n[2]),b:C(n[3]+""+n[3]),a:F(n[4]+""+n[4]),format:e?"name":"hex8"}:!!(n=$.hex3.exec(t))&&{r:C(n[1]+""+n[1]),g:C(n[2]+""+n[2]),b:C(n[3]+""+n[3]),format:e?"name":"hex"}}function B(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var V=/^\s+/,z=/\s+$/,Y=0,G=i.round,q=i.min,H=i.max,W=i.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,o,u,a=this.toRgb();return t=a.r/255,e=a.g/255,n=a.b/255,r=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),o=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),u=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*u},setAlpha:function(t){return this._a=O(t),this._roundA=G(100*this._a)/100,this},toHsv:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=f(this._r,this._g,this._b),e=G(360*t.h),n=G(100*t.s),r=G(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=s(this._r,this._g,this._b),e=G(360*t.h),n=G(100*t.s),r=G(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return h(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return d(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:G(this._r),g:G(this._g),b:G(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+G(this._r)+", "+G(this._g)+", "+G(this._b)+")":"rgba("+G(this._r)+", "+G(this._g)+", "+G(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:G(100*R(this._r,255))+"%",g:G(100*R(this._g,255))+"%",b:G(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+G(100*R(this._r,255))+"%, "+G(100*R(this._g,255))+"%, "+G(100*R(this._b,255))+"%)":"rgba("+G(100*R(this._r,255))+"%, "+G(100*R(this._g,255))+"%, "+G(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Z[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+p(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=o(t);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},o.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:L(t[r]));t=n}return o(t,e)},o.equals=function(t,e){return!(!t||!e)&&o(t).toRgbString()==o(e).toRgbString()},o.random=function(){return o.fromRatio({r:W(),g:W(),b:W()})},o.mix=function(t,e,n){n=0===n?0:n||50;var r=o(t).toRgb(),i=o(e).toRgb(),u=n/100;return o({r:(i.r-r.r)*u+r.r,g:(i.g-r.g)*u+r.g,b:(i.b-r.b)*u+r.b,a:(i.a-r.a)*u+r.a})},o.readability=function(t,e){var n=o(t),r=o(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(t,e,n){var r,i,u=o.readability(t,e);switch(i=!1,(r=B(n)).level+r.size){case"AAsmall":case"AAAlarge":i=u>=4.5;break;case"AAlarge":i=u>=3;break;case"AAAsmall":i=u>=7}return i},o.mostReadable=function(t,e,n){var r,i,u,a,s=null,c=0;i=(n=n||{}).includeFallbackColors,u=n.level,a=n.size;for(var f=0;f<e.length;f++)(r=o.readability(t,e[f]))>c&&(c=r,s=o(e[f]));return o.isReadable(t,s,{level:u,size:a})||!i?s:(n.includeFallbackColors=!1,o.mostReadable(t,["#fff","#000"],n))};var X=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Z=o.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(X),$=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==t&&t.exports?t.exports=o:void 0!==(r=function(){return o}.call(e,n,e,t))&&(t.exports=r)}(Math)},function(t,e,n){"use strict";function r(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1],p=n[2],v=n[3],y=n[4],b=n[5],g=n[6],m=n[7],_=n[8];return t[0]=h*r+d*u+p*c,t[1]=h*i+d*a+p*f,t[2]=h*o+d*s+p*l,t[3]=v*r+y*u+b*c,t[4]=v*i+y*a+b*f,t[5]=v*o+y*s+b*l,t[6]=g*r+m*u+_*c,t[7]=g*i+m*a+_*f,t[8]=g*o+m*s+_*l,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new o.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){let e=new o.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,r,i,u,a,s,c){let f=new o.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=n,f[3]=r,f[4]=i,f[5]=u,f[6]=a,f[7]=s,f[8]=c,f},e.set=function(t,e,n,r,i,o,u,a,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=u,t[6]=a,t[7]=s,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){let n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],c=e[7],f=e[8],l=f*u-a*c,h=-f*o+a*s,d=c*o-u*s,p=n*l+r*h+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-f*r+i*c)*p,t[2]=(a*r-i*u)*p,t[3]=h*p,t[4]=(f*n-i*s)*p,t[5]=(-a*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*s)*p,t[8]=(u*n-r*o)*p,t):null},e.adjoint=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],c=e[7],f=e[8];return t[0]=u*f-a*c,t[1]=i*c-r*f,t[2]=r*a-i*u,t[3]=a*s-o*f,t[4]=n*f-i*s,t[5]=i*o-n*a,t[6]=o*c-u*s,t[7]=r*s-n*c,t[8]=n*u-r*o,t},e.determinant=function(t){let e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],u=t[5],a=t[6],s=t[7],c=t[8];return e*(c*o-u*s)+n*(-c*i+u*a)+r*(s*i-o*a)},e.multiply=r,e.translate=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=u,t[4]=a,t[5]=s,t[6]=h*r+d*u+c,t[7]=h*i+d*a+f,t[8]=h*o+d*s+l,t},e.rotate=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*u,t[1]=d*i+h*a,t[2]=d*o+h*s,t[3]=d*u-h*r,t[4]=d*a-h*i,t[5]=d*s-h*o,t[6]=c,t[7]=f,t[8]=l,t},e.scale=function(t,e,n){let r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=n+n,a=r+r,s=i+i,c=n*u,f=r*u,l=r*a,h=i*u,d=i*a,p=i*s,v=o*u,y=o*a,b=o*s;return t[0]=1-l-p,t[3]=f-b,t[6]=h+y,t[1]=f+b,t[4]=1-c-p,t[7]=d-v,t[2]=h-y,t[5]=d+v,t[8]=1-c-l,t},e.normalFromMat4=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],b=e[15],g=n*a-r*u,m=n*s-i*u,_=n*c-o*u,x=r*s-i*a,w=r*c-o*a,M=i*c-o*s,E=f*v-l*p,A=f*y-h*p,T=f*b-d*p,S=l*y-h*v,O=l*b-d*v,R=h*b-d*y,P=g*R-m*O+_*S+x*T-w*A+M*E;return P?(P=1/P,t[0]=(a*R-s*O+c*S)*P,t[1]=(s*T-u*R-c*A)*P,t[2]=(u*O-a*T+c*E)*P,t[3]=(i*O-r*R-o*S)*P,t[4]=(n*R-i*T+o*A)*P,t[5]=(r*T-n*O-o*E)*P,t[6]=(v*M-y*w+b*x)*P,t[7]=(y*_-p*M-b*m)*P,t[8]=(p*w-v*_+b*g)*P,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){let n=t[0],r=t[1],i=t[2],u=t[3],a=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=e[0],d=e[1],p=e[2],v=e[3],y=e[4],b=e[5],g=e[6],m=e[7],_=e[8];return Math.abs(n-h)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(r-d)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-p)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(u-v)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(a-y)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(s-b)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-g)<=o.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-m)<=o.EPSILON*Math.max(1,Math.abs(f),Math.abs(m))&&Math.abs(l-_)<=o.EPSILON*Math.max(1,Math.abs(l),Math.abs(_))};var o=n(29);const u=r;e.mul=u;const a=i;e.sub=a},function(t,e,n){"use strict";function r(){let t=new p.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function i(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function o(t,e,n){let r=new p.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function c(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function f(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function l(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function h(t,e){let n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}Object.defineProperty(e,"__esModule",{value:!0}),e.create=r,e.clone=function(t){var e=new p.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=i,e.fromValues=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=u,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=c,e.squaredDistance=f,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=h,e.dot=d,e.cross=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=n[0],a=n[1],s=n[2];return t[0]=i*s-o*a,t[1]=o*u-r*s,t[2]=r*a-i*u,t},e.lerp=function(t,e,n,r){let i=e[0],o=e[1],u=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=u+r*(n[2]-u),t},e.hermite=function(t,e,n,r,i,o){let u=o*o,a=u*(2*o-3)+1,s=u*(o-2)+o,c=u*(o-1),f=u*(3-2*o);return t[0]=e[0]*a+n[0]*s+r[0]*c+i[0]*f,t[1]=e[1]*a+n[1]*s+r[1]*c+i[1]*f,t[2]=e[2]*a+n[2]*s+r[2]*c+i[2]*f,t},e.bezier=function(t,e,n,r,i,o){let u=1-o,a=u*u,s=o*o,c=a*u,f=3*o*a,l=3*s*u,h=s*o;return t[0]=e[0]*c+n[0]*f+r[0]*l+i[0]*h,t[1]=e[1]*c+n[1]*f+r[1]*l+i[1]*h,t[2]=e[2]*c+n[2]*f+r[2]*l+i[2]*h,t},e.random=function(t,e){e=e||1;let n=2*p.RANDOM()*Math.PI,r=2*p.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},e.transformMat4=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=n[3]*r+n[7]*i+n[11]*o+n[15];return u=u||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/u,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/u,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/u,t},e.transformMat3=function(t,e,n){let r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=n[0],a=n[1],s=n[2],c=n[3],f=c*r+a*o-s*i,l=c*i+s*r-u*o,h=c*o+u*i-a*r,d=-u*r-a*i-s*o;return t[0]=f*c+d*-u+l*-s-h*-a,t[1]=l*c+d*-a+h*-u-f*-s,t[2]=h*c+d*-s+f*-a-l*-u,t},e.rotateX=function(t,e,n,r){let i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){let i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){let i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){let n=o(t[0],t[1],t[2]),r=o(e[0],e[1],e[2]);h(n,n),h(r,r);let i=d(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){let n=t[0],r=t[1],i=t[2],o=e[0],u=e[1],a=e[2];return Math.abs(n-o)<=p.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-u)<=p.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(i-a)<=p.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))};var p=n(29);const v=u;e.sub=v;const y=a;e.mul=y;const b=s;e.div=b;const g=c;e.dist=g;const m=f;e.sqrDist=m;const _=i;e.len=_;const x=l;e.sqrLen=x;const w=function(){let t=r();return function(e,n,r,i,o,u){let a,s;for(n||(n=3),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,a=r;a<s;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],o(t,t,u),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}}();e.forEach=w},function(t,e,n){"use strict";function r(){let t=new d.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function a(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function s(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)}function c(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function f(t){let e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function l(t){let e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function h(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=n*n+r*r+i*i+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=n*u,t[1]=r*u,t[2]=i*u,t[3]=o*u),t}Object.defineProperty(e,"__esModule",{value:!0}),e.create=r,e.clone=function(t){let e=new d.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,n,r){let i=new d.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=i,e.multiply=o,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=a,e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},e.distance=s,e.squaredDistance=c,e.length=f,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=h,e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,n,r){let i=e[0],o=e[1],u=e[2],a=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=u+r*(n[2]-u),t[3]=a+r*(n[3]-a),t},e.random=function(t,e){return e=e||1,t[0]=d.RANDOM(),t[1]=d.RANDOM(),t[2]=d.RANDOM(),t[3]=d.RANDOM(),h(t,t),a(t,t,e),t},e.transformMat4=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*u,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*u,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*u,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*u,t},e.transformQuat=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=n[0],a=n[1],s=n[2],c=n[3],f=c*r+a*o-s*i,l=c*i+s*r-u*o,h=c*o+u*i-a*r,d=-u*r-a*i-s*o;return t[0]=f*c+d*-u+l*-s-h*-a,t[1]=l*c+d*-a+h*-u-f*-s,t[2]=h*c+d*-s+f*-a-l*-u,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){let n=t[0],r=t[1],i=t[2],o=t[3],u=e[0],a=e[1],s=e[2],c=e[3];return Math.abs(n-u)<=d.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-a)<=d.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=d.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=d.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))};var d=n(29);const p=i;e.sub=p;const v=o;e.mul=v;const y=u;e.div=y;const b=s;e.dist=b;const g=c;e.sqrDist=g;const m=f;e.len=m;const _=l;e.sqrLen=_;const x=function(){let t=r();return function(e,n,r,i,o,u){let a,s;for(n||(n=4),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,a=r;a<s;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],o(t,t,u),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}}();e.forEach=x},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){if(!t.hasAttribute(e))return n;switch(t.getAttribute(e).toLowerCase()){case"true":case"yes":case"on":case"":case e:return!0}return!1}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=t.parentElement;if(e&&1===e.nodeType){for(var n=e.nodeName,i=arguments.length,o=Array(i>1?i-1:0),u=1;u<i;u++)o[u-1]=arguments[u];if(o.includes(n))return e;if(!r.includes(n))return e}};var r=["BODY","HTML"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(t){t.blitpunkCanvas=(0,i.default)(t),t.blitpunk=t.blitpunkCanvas.blitpunk,t.entityManager=t.blitpunk.entityManager,t.entity=t.entityManager.createEntity(),t.entity.on(t),t.parentSceneElement=(0,o.default)(t,"scene"),t.parentScene=t.parentSceneElement.scene,t.parentScene.children.appendChild(t.entity)};var i=r(n(416)),o=r(n(417))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.parentScene.children.removeChild(t.entity),t.parentScene=null,t.parentSceneElement=null,t.entity.off(t),t.entityManager.destroyEntity(t.entity),t.entity=null,t.blitpunk=null,t.blitpunkCanvas=null}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(109),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(470),i=n(108),o=Object.prototype,u=o.hasOwnProperty,a=o.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return i(t)&&u.call(t,"callee")&&!a.call(t,"callee")};t.exports=s},function(t,e,n){n(160),n(343),t.exports=n(140)},function(t,e,n){"use strict";(function(t){function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(161),n(339),n(340),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,n(53))},function(t,e,n){n(162),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(94),n(266),n(267),n(129),n(268),n(269),n(270),n(271),n(272),n(130),n(132),n(133),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(337),n(338),t.exports=n(25)},function(t,e,n){"use strict";var r=n(2),i=n(10),o=n(6),u=n(0),a=n(12),s=n(31).KEY,c=n(3),f=n(54),l=n(43),h=n(34),d=n(5),p=n(113),v=n(74),y=n(163),b=n(164),g=n(77),m=n(1),_=n(14),x=n(22),w=n(30),M=n(38),E=n(116),A=n(16),T=n(7),S=n(36),O=A.f,R=T.f,P=E.f,C=r.Symbol,I=r.JSON,N=I&&I.stringify,k=d("_hidden"),L=d("toPrimitive"),j={}.propertyIsEnumerable,F=f("symbol-registry"),D=f("symbols"),U=f("op-symbols"),B=Object.prototype,V="function"==typeof C,z=r.QObject,Y=!z||!z.prototype||!z.prototype.findChild,G=o&&c(function(){return 7!=M(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=O(B,e);r&&delete B[e],R(t,e,n),r&&t!==B&&R(B,e,r)}:R,q=function(t){var e=D[t]=M(C.prototype);return e._k=t,e},H=V&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},W=function(t,e,n){return t===B&&W(U,e,n),m(t),e=x(e,!0),m(n),i(D,e)?(n.enumerable?(i(t,k)&&t[k][e]&&(t[k][e]=!1),n=M(n,{enumerable:w(0,!1)})):(i(t,k)||R(t,k,w(1,{})),t[k][e]=!0),G(t,e,n)):R(t,e,n)},X=function(t,e){m(t);for(var n,r=b(e=_(e)),i=0,o=r.length;o>i;)W(t,n=r[i++],e[n]);return t},Z=function(t){var e=j.call(this,t=x(t,!0));return!(this===B&&i(D,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(D,t)||i(this,k)&&this[k][t])||e)},$=function(t,e){if(t=_(t),e=x(e,!0),t!==B||!i(D,e)||i(U,e)){var n=O(t,e);return!n||!i(D,e)||i(t,k)&&t[k][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=P(_(t)),r=[],o=0;n.length>o;)i(D,e=n[o++])||e==k||e==s||r.push(e);return r},K=function(t){for(var e,n=t===B,r=P(n?U:_(t)),o=[],u=0;r.length>u;)!i(D,e=r[u++])||n&&!i(B,e)||o.push(D[e]);return o};V||(a((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(U,n),i(this,k)&&i(this[k],t)&&(this[k][t]=!1),G(this,t,w(1,n))};return o&&Y&&G(B,t,{configurable:!0,set:e}),q(t)}).prototype,"toString",function(){return this._k}),A.f=$,T.f=W,n(39).f=E.f=J,n(49).f=Z,n(56).f=K,o&&!n(35)&&a(B,"propertyIsEnumerable",Z,!0),p.f=function(t){return q(d(t))}),u(u.G+u.W+u.F*!V,{Symbol:C});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)d(Q[tt++]);for(var Q=S(d.store),tt=0;Q.length>tt;)v(Q[tt++]);u(u.S+u.F*!V,"Symbol",{for:function(t){return i(F,t+="")?F[t]:F[t]=C(t)},keyFor:function(t){if(H(t))return y(F,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),u(u.S+u.F*!V,"Object",{create:function(t,e){return void 0===e?M(t):X(M(t),e)},defineProperty:W,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:J,getOwnPropertySymbols:K}),I&&u(u.S+u.F*(!V||c(function(){var t=C();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!H(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(e=r[1])&&(n=e),!n&&g(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!H(e))return e}),r[1]=e,N.apply(I,r)}}}),C.prototype[L]||n(11)(C.prototype,L,C.prototype.valueOf),l(C,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){var r=n(36),i=n(14);t.exports=function(t,e){for(var n,o=i(t),u=r(o),a=u.length,s=0;a>s;)if(o[n=u[s++]]===e)return n}},function(t,e,n){var r=n(36),i=n(56),o=n(49);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var u,a=n(t),s=o.f,c=0;a.length>c;)s.call(t,u=a[c++])&&e.push(u);return e}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(38)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperty:n(7).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperties:n(115)})},function(t,e,n){var r=n(14),i=n(16).f;n(23)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(9),i=n(17);n(23)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(9),i=n(36);n(23)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(23)("getOwnPropertyNames",function(){return n(116).f})},function(t,e,n){var r=n(4),i=n(31).onFreeze;n(23)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(4),i=n(31).onFreeze;n(23)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(4),i=n(31).onFreeze;n(23)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(4);n(23)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(4);n(23)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(4);n(23)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(117)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(118)})},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(79).set})},function(t,e,n){"use strict";var r=n(50),i={};i[n(5)("toStringTag")]="z",i+""!="[object z]"&&n(12)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(119)})},function(t,e,n){var r=n(7).f,i=n(30),o=n(10),u=Function.prototype,a=/^\s*function ([^ (]*)/,s=Object.isExtensible||function(){return!0};"name"in u||n(6)&&r(u,"name",{configurable:!0,get:function(){try{var t=this,e=(""+t).match(a)[1];return o(t,"name")||!s(t)||r(t,"name",i(5,e)),e}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(4),i=n(17),o=n(5)("hasInstance"),u=Function.prototype;o in u||n(7).f(u,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),i=n(120);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(0),i=n(121);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(2),i=n(10),o=n(18),u=n(81),a=n(22),s=n(3),c=n(39).f,f=n(16).f,l=n(7).f,h=n(44).trim,d=r.Number,p=d,v=d.prototype,y="Number"==o(n(38)(v)),b="trim"in String.prototype,g=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=b?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var u,s=e.slice(2),c=0,f=s.length;c<f;c++)if((u=s.charCodeAt(c))<48||u>i)return NaN;return parseInt(s,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(y?s(function(){v.valueOf.call(n)}):"Number"!=o(n))?u(new p(g(e)),n,d):g(e)};for(var m,_=n(6)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;_.length>x;x++)i(p,m=_[x])&&!i(d,m)&&l(d,m,f(p,m));d.prototype=v,v.constructor=d,n(12)(r,"Number",d)}},function(t,e,n){"use strict";var r=n(0),i=n(32),o=n(122),u=n(82),a=1..toFixed,s=Math.floor,c=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",l=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=s(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=s(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+u.call("0",7-n.length)+n}return e},p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)},v=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){a.call({})})),"Number",{toFixed:function(t){var e,n,r,a,s=o(this,f),c=i(t),y="",b="0";if(c<0||c>20)throw RangeError(f);if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(y="-",s=-s),s>1e-21)if(e=v(s*p(2,69,1))-69,n=e<0?s*p(2,-e,1):s/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(l(0,n),r=c;r>=7;)l(1e7,0),r-=7;for(l(p(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),l(1,1),h(2),b=d()}else l(0,n),l(1<<-e,0),b=d()+u.call("0",c);return b=c>0?y+((a=b.length)<=c?"0."+u.call("0",c-a)+b:b.slice(0,a-c)+"."+b.slice(a-c)):y+b}})},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(122),u=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(e):u.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(123)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),i=n(123),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),i=n(121);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(0),i=n(120);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(0),i=n(124),o=Math.sqrt,u=Math.acosh;r(r.S+r.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),i=n(83);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(0),i=n(84);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0),i=n(83),o=Math.pow,u=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),c=o(2,-126),f=function(t){return t+1/u-1/u};r(r.S,"Math",{fround:function(t){var e,n,r=Math.abs(t),o=i(t);return r<c?o*f(r/c/a)*c*a:(e=(1+a/u)*r,(n=e-(e-r))>s||n!=n?o*(1/0):o*n)}})},function(t,e,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,u=0,a=arguments.length,s=0;u<a;)s<(n=i(arguments[u++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Math.sqrt(o)}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(124)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(83)})},function(t,e,n){var r=n(0),i=n(84),o=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),i=n(84),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),i=n(37),o=String.fromCharCode,u=String.fromCodePoint;r(r.S+r.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,u=0;r>u;){if(e=+arguments[u++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),i=n(14),o=n(8);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,u=[],a=0;n>a;)u.push(String(e[a++])),a<r&&u.push(String(arguments[a]));return u.join("")}})},function(t,e,n){"use strict";n(44)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(85)(!0);n(86)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(0),i=n(85)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(8),o=n(88),u="".endsWith;r(r.P+r.F*n(89)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),a=void 0===n?r:Math.min(i(n),r),s=String(t);return u?u.call(e,s,a):e.slice(a-s.length,a)===s}})},function(t,e,n){"use strict";var r=n(0),i=n(88);r(r.P+r.F*n(89)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(82)})},function(t,e,n){"use strict";var r=n(0),i=n(8),o=n(88),u="".startsWith;r(r.P+r.F*n(89)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return u?u.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(15)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(15)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(15)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(15)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(15)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(15)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(15)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(15)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(15)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(15)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(15)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(15)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(15)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(22);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){"use strict";var r=n(0),i=n(3),o=Date.prototype.getTime,u=function(t){return t>9?t:"0"+t};r(r.P+r.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(n>99?n:"0"+u(n))+"Z"}})},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(12)(r,"toString",function(){var t=o.call(this);return t===t?i.call(this):"Invalid Date"})},function(t,e,n){var r=n(5)("toPrimitive"),i=Date.prototype;r in i||n(11)(i,r,n(243))},function(t,e,n){"use strict";var r=n(1),i=n(22);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(77)})},function(t,e,n){"use strict";var r=n(26),i=n(0),o=n(9),u=n(125),a=n(90),s=n(8),c=n(91),f=n(92);i(i.S+i.F*!n(59)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,h=o(t),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=void 0!==v,b=0,g=f(h);if(y&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==g||d==Array&&a(g))for(n=new d(e=s(h.length));e>b;b++)c(n,b,y?v(h[b],b):h[b]);else for(l=g.call(h),n=new d;!(i=l.next()).done;b++)c(n,b,y?u(l,v,[i.value,b],!0):i.value);return n.length=b,n}})},function(t,e,n){"use strict";var r=n(0),i=n(91);r(r.S+r.F*n(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),i=n(14),o=[].join;r(r.P+r.F*(n(48)!=Object||!n(20)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(0),i=n(78),o=n(18),u=n(37),a=n(8),s=[].slice;r(r.P+r.F*n(3)(function(){i&&s.call(i)}),"Array",{slice:function(t,e){var n=a(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return s.call(this,t,e);for(var i=u(t,n),c=u(e,n),f=a(c-i),l=Array(f),h=0;h<f;h++)l[h]="String"==r?this.charAt(i+h):this[i+h];return l}})},function(t,e,n){"use strict";var r=n(0),i=n(13),o=n(9),u=n(3),a=[].sort,s=[1,2,3];r(r.P+r.F*(u(function(){s.sort(void 0)})||!u(function(){s.sort(null)})||!n(20)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(0),i=n(24)(0),o=n(20)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(252);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(4),i=n(77),o=n(5)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(0),i=n(24)(1);r(r.P+r.F*!n(20)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(24)(2);r(r.P+r.F*!n(20)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(24)(3);r(r.P+r.F*!n(20)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(24)(4);r(r.P+r.F*!n(20)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(126);r(r.P+r.F*!n(20)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(126);r(r.P+r.F*!n(20)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(55)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(u||!n(20)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(14),o=n(32),u=n(8),a=[].lastIndexOf,s=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(s||!n(20)(a)),"Array",{lastIndexOf:function(t){if(s)return a.apply(this,arguments)||0;var e=i(this),n=u(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(127)}),n(46)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(93)}),n(46)("fill")},function(t,e,n){"use strict";var r=n(0),i=n(24)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(46)("find")},function(t,e,n){"use strict";var r=n(0),i=n(24)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),r(r.P+r.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(46)(o)},function(t,e,n){n(40)("Array")},function(t,e,n){var r=n(2),i=n(81),o=n(7).f,u=n(39).f,a=n(58),s=n(60),c=r.RegExp,f=c,l=c.prototype,h=/a/g,d=/a/g,p=new c(h)!==h;if(n(6)&&(!p||n(3)(function(){return d[n(5)("match")]=!1,c(h)!=h||c(d)==d||"/a/i"!=c(h,"i")}))){c=function(t,e){var n=this instanceof c,r=a(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(p?new f(r&&!o?t.source:t,e):f((r=t instanceof c)?t.source:t,r&&o?s.call(t):e),n?this:l,c)};for(var v=function(t){t in c||o(c,t,{configurable:!0,get:function(){return f[t]},set:function(e){f[t]=e}})},y=u(f),b=0;y.length>b;)v(y[b++]);l.constructor=c,c.prototype=l,n(12)(r,"RegExp",c)}n(40)("RegExp")},function(t,e,n){"use strict";n(129);var r=n(1),i=n(60),o=n(6),u=/./.toString,a=function(t){n(12)(RegExp.prototype,"toString",t,!0)};n(3)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?a(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=u.name&&a(function(){return u.call(this)})},function(t,e,n){n(61)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(61)("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),u=void 0==r?void 0:r[e];return void 0!==u?u.call(r,o,i):n.call(String(o),r,i)},n]})},function(t,e,n){n(61)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(61)("split",2,function(t,e,r){"use strict";var i=n(58),o=r,u=[].push,a="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[a]||2!="ab".split(/(?:ab)*/)[a]||4!=".".split(/(.?)(.?)/)[a]||".".split(/()()/)[a]>1||"".split(/.?/)[a]){var s=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r,c,f,l,h,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,y=void 0===e?4294967295:e>>>0,b=new RegExp(t.source,p+"g");for(s||(r=new RegExp("^"+b.source+"$(?!\\s)",p));(c=b.exec(n))&&!((f=c.index+c[0][a])>v&&(d.push(n.slice(v,c.index)),!s&&c[a]>1&&c[0].replace(r,function(){for(h=1;h<arguments[a]-2;h++)void 0===arguments[h]&&(c[h]=void 0)}),c[a]>1&&c.index<n[a]&&u.apply(d,c.slice(1)),l=c[0][a],v=f,d[a]>=y));)b.lastIndex===c.index&&b.lastIndex++;return v===n[a]?!l&&b.test("")||d.push(""):d.push(n.slice(v)),d[a]>y?d.slice(0,y):d}}else"0".split(void 0,0)[a]&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,i){var o=t(this),u=void 0==n?void 0:n[e];return void 0!==u?u.call(n,o,i):r.call(String(o),n,i)},r]})},function(t,e,n){"use strict";var r,i,o,u=n(35),a=n(2),s=n(26),c=n(50),f=n(0),l=n(4),h=n(13),d=n(41),p=n(47),v=n(95),y=n(96).set,b=n(97)(),g=a.TypeError,m=a.process,_=a.Promise,x="process"==c(m=a.process),w=function(){},M=!!function(){try{var t=_.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(w,w)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(w)instanceof e}catch(t){}}(),E=function(t,e){return t===e||t===_&&e===o},A=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},T=function(t){return E(_,t)?new S(t):new i(t)},S=i=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw g("Bad Promise constructor");e=t,n=r}),this.resolve=h(e),this.reject=h(n)},O=function(t){try{t()}catch(t){return{error:t}}},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,u=i?e.ok:e.fail,a=e.resolve,s=e.reject,c=e.domain;try{u?(i||(2==t._h&&I(t),t._h=1),!0===u?n=r:(c&&c.enter(),n=u(r),c&&c.exit()),n===e.promise?s(g("Promise-chain cycle")):(o=A(n))?o.call(n,a,s):a(n)):s(r)}catch(t){s(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){y.call(a,function(){var e,n,r,i=t._v;if(C(t)&&(e=O(function(){x?m.emit("unhandledRejection",i,t):(n=a.onunhandledrejection)?n({promise:t,reason:i}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=x||C(t)?2:1),t._a=void 0,e)throw e.error})},C=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if((e=n[r++]).fail||!C(e.promise))return!1;return!0},I=function(t){y.call(a,function(){var e;x?m.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),R(e,!0))},k=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw g("Promise can't be resolved itself");(e=A(t))?b(function(){var r={_w:n,_d:!1};try{e.call(t,s(k,r,1),s(N,r,1))}catch(t){N.call(r,t)}}):(n._v=t,n._s=1,R(n,!1))}catch(t){N.call({_w:n,_d:!1},t)}}};M||(_=function(t){d(this,_,"Promise","_h"),h(t),r.call(this);try{t(s(k,this,1),s(N,this,1))}catch(t){N.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(42)(_.prototype,{then:function(t,e){var n=T(v(this,_));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?m.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),S=function(){var t=new r;this.promise=t,this.resolve=s(k,t,1),this.reject=s(N,t,1)}),f(f.G+f.W+f.F*!M,{Promise:_}),n(43)(_,"Promise"),n(40)("Promise"),o=n(25).Promise,f(f.S+f.F*!M,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(u||!M),"Promise",{resolve:function(t){if(t instanceof _&&E(t.constructor,this))return t;var e=T(this);return(0,e.resolve)(t),e.promise}}),f(f.S+f.F*!(M&&n(59)(function(t){_.all(t).catch(w)})),"Promise",{all:function(t){var e=this,n=T(e),r=n.resolve,i=n.reject,o=O(function(){var n=[],o=0,u=1;p(t,!1,function(t){var a=o++,s=!1;n.push(void 0),u++,e.resolve(t).then(function(t){s||(s=!0,n[a]=t,--u||r(n))},i)}),--u||r(n)});return o&&i(o.error),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,i=O(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(t,e,n){"use strict";var r=n(134);n(62)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),i=n(63),o=n(98),u=n(1),a=n(37),s=n(8),c=n(4),f=n(2).ArrayBuffer,l=n(95),h=o.ArrayBuffer,d=o.DataView,p=i.ABV&&f.isView,v=h.prototype.slice,y=i.VIEW;r(r.G+r.W+r.F*(f!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||c(t)&&y in t}}),r(r.P+r.U+r.F*n(3)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(u(this),t);for(var n=u(this).byteLength,r=a(t,n),i=a(void 0===e?n:e,n),o=new(l(this,h))(s(i-r)),c=new d(this),f=new d(o),p=0;r<i;)f.setUint8(p++,c.getUint8(r++));return o}}),n(40)("ArrayBuffer")},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(63).ABV,{DataView:n(98).DataView})},function(t,e,n){n(27)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(27)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(27)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(27)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(27)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(27)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(27)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(27)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(27)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(0),i=n(13),o=n(1),u=(n(2).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(3)(function(){u(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),s=o(n);return u?u(r,e,s):a.call(r,e,s)}})},function(t,e,n){var r=n(0),i=n(38),o=n(13),u=n(1),a=n(4),s=n(3),c=n(119),f=(n(2).Reflect||{}).construct,l=s(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),h=!s(function(){f(function(){})});r(r.S+r.F*(l||h),"Reflect",{construct:function(t,e){o(t),u(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!l)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var s=n.prototype,d=i(a(s)?s:Object.prototype),p=Function.apply.call(t,d,e);return a(p)?p:d}})},function(t,e,n){var r=n(7),i=n(0),o=n(1),u=n(22);i(i.S+i.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=u(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(16).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(0),i=n(1),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(87)(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){function r(t,e){var n,a,f=arguments.length<3?t:arguments[2];return c(t)===f?t[e]:(n=i.f(t,e))?u(n,"value")?n.value:void 0!==n.get?n.get.call(f):void 0:s(a=o(t))?r(a,e,f):void 0}var i=n(16),o=n(17),u=n(10),a=n(0),s=n(4),c=n(1);a(a.S,"Reflect",{get:r})},function(t,e,n){var r=n(16),i=n(0),o=n(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(0),i=n(17),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),i=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(135)})},function(t,e,n){var r=n(0),i=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var s,h,d=arguments.length<4?t:arguments[3],p=o.f(f(t),e);if(!p){if(l(h=u(t)))return r(h,e,n,d);p=c(0)}return a(p,"value")?!(!1===p.writable||!l(d))&&(s=o.f(d,e)||c(0),s.value=n,i.f(d,e,s),!0):void 0!==p.set&&(p.set.call(d,n),!0)}var i=n(7),o=n(16),u=n(17),a=n(10),s=n(0),c=n(30),f=n(1),l=n(4);s(s.S,"Reflect",{set:r})},function(t,e,n){var r=n(0),i=n(79);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(0),i=n(55)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(46)("includes")},function(t,e,n){"use strict";var r=n(0),i=n(85)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(136);r(r.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(136);r(r.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(44)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(44)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(0),i=n(19),o=n(8),u=n(58),a=n(60),s=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(87)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!u(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in s?String(t.flags):a.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new c(r,e)}})},function(t,e,n){n(74)("asyncIterator")},function(t,e,n){n(74)("observable")},function(t,e,n){var r=n(0),i=n(135),o=n(14),u=n(16),a=n(91);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n=o(t),r=u.f,s=i(n),c={},f=0;s.length>f;)a(c,e=s[f++],r(n,e));return c}})},function(t,e,n){var r=n(0),i=n(137)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(137)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(13),u=n(7);n(6)&&r(r.P+n(64),"Object",{__defineGetter__:function(t,e){u.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(13),u=n(7);n(6)&&r(r.P+n(64),"Object",{__defineSetter__:function(t,e){u.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(22),u=n(17),a=n(16).f;n(6)&&r(r.P+n(64),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.get}while(n=u(n))}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(22),u=n(17),a=n(16).f;n(6)&&r(r.P+n(64),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=a(n,r))return e.set}while(n=u(n))}})},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(138)("Map")})},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(138)("Set")})},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(t,e,n){var r=n(0),i=n(18);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,u=n>>16,a=r>>16,s=(u*o>>>0)+(i*o>>>16);return u*a+(s>>16)+((i*a>>>0)+(65535&s)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,u=n>>>16,a=r>>>16,s=(u*o>>>0)+(i*o>>>16);return u*a+(s>>>16)+((i*a>>>0)+(65535&s)>>>16)}})},function(t,e,n){var r=n(28),i=n(1),o=r.key,u=r.set;r.exp({defineMetadata:function(t,e,n,r){u(t,e,i(n),o(r))}})},function(t,e,n){var r=n(28),i=n(1),o=r.key,u=r.map,a=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=u(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var s=a.get(e);return s.delete(n),!!s.size||a.delete(e)}})},function(t,e,n){var r=n(28),i=n(1),o=n(17),u=r.has,a=r.get,s=r.key,c=function(t,e,n){if(u(t,e,n))return a(t,e,n);var r=o(e);return null!==r?c(t,r,n):void 0};r.exp({getMetadata:function(t,e){return c(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(132),i=n(139),o=n(28),u=n(1),a=n(17),s=o.keys,c=o.key,f=function(t,e){var n=s(t,e),o=a(t);if(null===o)return n;var u=f(o,e);return u.length?n.length?i(new r(n.concat(u))):u:n};o.exp({getMetadataKeys:function(t){return f(u(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var r=n(28),i=n(1),o=r.get,u=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(28),i=n(1),o=r.keys,u=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,e,n){var r=n(28),i=n(1),o=n(17),u=r.has,a=r.key,s=function(t,e,n){if(u(t,e,n))return!0;var r=o(e);return null!==r&&s(t,r,n)};r.exp({hasMetadata:function(t,e){return s(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(28),i=n(1),o=r.has,u=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(28),i=n(1),o=n(13),u=r.key,a=r.set;r.exp({metadata:function(t,e){return function(n,r){a(t,e,(void 0!==r?i:o)(n),u(r))}}})},function(t,e,n){var r=n(0),i=n(97)(),o=n(2).process,u="process"==n(18)(o);r(r.G,{asap:function(t){var e=u&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(25),u=n(97)(),a=n(5)("observable"),s=n(13),c=n(1),f=n(41),l=n(42),h=n(11),d=n(47),p=d.RETURN,v=function(t){return null==t?void 0:s(t)},y=function(t){var e=t._c;e&&(t._c=void 0,e())},b=function(t){return void 0===t._o},g=function(t){b(t)||(t._o=void 0,y(t))},m=function(t,e){c(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:s(n),this._c=n)}catch(e){return void t.error(e)}b(this)&&y(this)};m.prototype=l({},{unsubscribe:function(){g(this)}});var _=function(t){this._s=t};_.prototype=l({},{next:function(t){var e=this._s;if(!b(e)){var n=e._o;try{var r=v(n.next);if(r)return r.call(n,t)}catch(t){try{g(e)}finally{throw t}}}},error:function(t){var e=this._s;if(b(e))throw t;var n=e._o;e._o=void 0;try{var r=v(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{y(e)}finally{throw t}}return y(e),t},complete:function(t){var e=this._s;if(!b(e)){var n=e._o;e._o=void 0;try{var r=v(n.complete);t=r?r.call(n,t):void 0}catch(t){try{y(e)}finally{throw t}}return y(e),t}}});var x=function(t){f(this,x,"Observable","_f")._f=s(t)};l(x.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){s(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})})}}),l(x,{from:function(t){var e="function"==typeof this?this:x,n=v(c(t)[a]);if(n){var r=c(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return u(function(){if(!n){try{if(d(t,!1,function(t){if(e.next(t),n)return p})===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:x)(function(t){var e=!1;return u(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),h(x.prototype,a,function(){return this}),r(r.G,{Observable:x}),n(40)("Observable")},function(t,e,n){var r=n(2),i=n(0),o=n(57),u=n(335),a=r.navigator,s=!!a&&/MSIE .\./.test(a.userAgent),c=function(t){return s?function(e,n){return t(o(u,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};i(i.G+i.B+i.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(t,e,n){"use strict";var r=n(336),i=n(57),o=n(13);t.exports=function(){for(var t=o(this),e=arguments.length,n=Array(e),u=0,a=r._,s=!1;e>u;)(n[u]=arguments[u++])===a&&(s=!0);return function(){var r,o=this,u=arguments.length,c=0,f=0;if(!s&&!u)return i(t,n,o);if(r=n.slice(),s)for(;e>c;c++)r[c]===a&&(r[c]=arguments[f++]);for(;u>f;)r.push(arguments[f++]);return i(t,r,o)}}},function(t,e,n){t.exports=n(2)},function(t,e,n){var r=n(0),i=n(96);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(94),i=n(12),o=n(2),u=n(11),a=n(45),s=n(5),c=s("iterator"),f=s("toStringTag"),l=a.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],d=0;d<5;d++){var p,v=h[d],y=o[v],b=y&&y.prototype;if(b){b[c]||u(b,c,l),b[f]||u(b,f,v),a[v]=l;for(p in r)b[p]||i(b,p,r[p],!0)}}},function(t,e,n){(function(e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,u=Object.create(o.prototype),a=new d(r||[]);return u._invoke=c(t,n,a),u}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function u(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function s(t){function n(e,i,o,u){var a=r(t[e],t,i);if("throw"!==a.type){var s=a.arg,c=s.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,o,u)},function(t){n("throw",t,o,u)}):Promise.resolve(c).then(function(t){s.value=t,o(s)},u)}u(a.arg)}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var i;this._invoke=function(t,e){function r(){return new Promise(function(r,i){n(t,e,r,i)})}return i=i?i.then(r,r):r()}}function c(t,e,n){var i=A;return function(o,u){if(i===S)throw new Error("Generator is already running");if(i===O){if("throw"===o)throw u;return v()}for(n.method=o,n.arg=u;;){var a=n.delegate;if(a){var s=f(a,n);if(s){if(s===R)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===A)throw i=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=S;var c=r(t,e,n);if("normal"===c.type){if(i=n.done?O:T,c.arg===R)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=O,n.method="throw",n.arg=c.arg)}}}function f(t,e){var n=t.iterator[e.method];if(n===y){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=y,f(t,e),"throw"===e.method))return R;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return R}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,R;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,R):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,R)}function l(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(l,this),this.reset(!0)}function p(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=y,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:y,done:!0}}var y,b=Object.prototype,g=b.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},_=m.iterator||"@@iterator",x=m.asyncIterator||"@@asyncIterator",w=m.toStringTag||"@@toStringTag",M="object"==typeof t,E=e.regeneratorRuntime;if(E)M&&(t.exports=E);else{(E=e.regeneratorRuntime=M?t.exports:{}).wrap=n;var A="suspendedStart",T="suspendedYield",S="executing",O="completed",R={},P={};P[_]=function(){return this};var C=Object.getPrototypeOf,I=C&&C(C(p([])));I&&I!==b&&g.call(I,_)&&(P=I);var N=u.prototype=i.prototype=Object.create(P);o.prototype=N.constructor=u,u.constructor=o,u[w]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(N),t},E.awrap=function(t){return{__await:t}},a(s.prototype),s.prototype[x]=function(){return this},E.AsyncIterator=s,E.async=function(t,e,r,i){var o=new s(n(t,e,r,i));return E.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},a(N),N[w]="Generator",N[_]=function(){return this},N.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var u=g.call(i,"catchLoc"),a=g.call(i,"finallyLoc");if(u&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,R):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),R},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),R}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=y),R}}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(53))},function(t,e,n){n(341),t.exports=n(25).RegExp.escape},function(t,e,n){var r=n(0),i=n(342)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return b.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function u(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader,n=u(e);return e.readAsArrayBuffer(t),n}function s(t){var e=new FileReader,n=u(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(b.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(b.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(b.arrayBuffer&&b.blob&&m(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!b.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return x.indexOf(e)>-1?e:t}function d(t,e){var n=(e=e||{}).body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function v(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function y(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var b={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(b.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},b.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];y.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=y,t.fetch=function(t,e){return new Promise(function(n,r){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new y(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&b.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(){window.customElements.define(s.DOM_ELEM_CANVAS,i.default),window.customElements.define(s.DOM_ELEM_SCENE,o.default),window.customElements.define(s.DOM_ELEM_TEXTURE_ATLAS,u.default),window.customElements.define(s.DOM_ELEM_SPRITE_GROUP,a.default)};var i=r(n(345)),o=r(n(414)),u=r(n(415)),a=r(n(419)),s=n(21);n(488)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=r(n(346)),c=r(n(140)),f=r(n(151)),l=n(21),h=n(33),d=function(t){return{alpha:(0,f.default)(t,l.ATTR_ALPHA,!1),depth:(0,f.default)(t,l.ATTR_DEPTH,!0),stencil:(0,f.default)(t,l.ATTR_STENCIL,!1),antialias:(0,f.default)(t,l.ATTR_ANTIALIAS,!1),premultipliedAlpha:(0,f.default)(t,l.ATTR_PREMULTIPLIED_ALPHA,!1),preserveDrawingBuffer:(0,f.default)(t,l.ATTR_PRESERVE_DRAW,!1)}},p=function(t){function e(n){var r,u;i(this,e);var a=r=o(this,t.call(this,n));return h(a),a.blitpunk=new s.default,a.blitpunk.entity.on(a),u=a,o(r,u)}return u(e,t),e.prototype.onKeydown=function(t){t.ctrlKey&&"d"===t.key&&(console.group("<blitpunk/>","frameNo",this.frameNo),console.log(this),console.log(this.blitpunk),this.blitpunk.entity.emit("debug",this),this.renderer.emit("debug",this.renderer),console.groupEnd())},e.prototype.connectedCallback=function(){this.blitpunk.contextAttributes=Object.freeze(d(this)),this.onKeydown=this.onKeydown.bind(this),document.body.addEventListener("keydown",this.onKeydown),this.blitpunk.start(this)},e.prototype.disconnectedCallback=function(){this.blitpunk.destroy(),document.body.removeEventListener("keydown",this.onKeydown)},e.prototype.attributeChangedCallback=function(t,e,n){switch(t){case l.ATTR_CLEAR_COLOR:this.clearColor=n;break;case l.ATTR_BLEND_MODE:case l.ATTR_PROJECTION:this.blitpunk.componentRegistry.createOrUpdateComponent(this.blitpunk.entity,t,n)}},a(e,[{key:"blitpunkApi",get:function(){return c.default}},{key:"blitpunkNodeName",get:function(){return l.NODE_NAME_CANVAS}},{key:"canvas",get:function(){return this.blitpunk.canvas}},{key:"width",get:function(){return this.blitpunk.width}},{key:"height",get:function(){return this.blitpunk.height}},{key:"glx",get:function(){return this.blitpunk.glx}},{key:"renderer",get:function(){return this.blitpunk.renderer}},{key:"time",get:function(){return this.blitpunk.time}},{key:"startTime",get:function(){return this.blitpunk.startTime}},{key:"frameNo",get:function(){return this.blitpunk.frameNo}},{key:"componentRegistry",get:function(){return this.blitpunk.componentRegistry}},{key:"entityManager",get:function(){return this.blitpunk.entityManager}},{key:"resourceLibrary",get:function(){return this.blitpunk.resourceLibrary}},{key:"textureLibrary",get:function(){return this.blitpunk.textureLibrary}},{key:"scene",get:function(){return this.blitpunk.entity}},{key:"clearColor",set:function(t){this.blitpunk.clearColor=t},get:function(){var t=this.blitpunk.clearColor;if(t)return 1===t.getAlpha()?t.toHexString():t.toRgbString()}}],[{key:"observedAttributes",get:function(){return[l.ATTR_BLEND_MODE,l.ATTR_CLEAR_COLOR,l.ATTR_PROJECTION]}}]),e}(HTMLElement);e.default=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=void 0;try{n=t.getContext("webgl",e)}catch(t){console.error(t)}if(!n)try{n=t.getContext("experimental-webgl",e)}catch(t){console.error(t)}if(!n)throw new Error("cannot create webgl1 context");return n}e.__esModule=!0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(n(347)),s=r(n(348)),c=r(n(353)),f=r(n(370)),l=r(n(374)),h=r(n(383)),d=r(n(385)),p=n(33),v=n(147),y=function(){return window.performance.now()/1e3},b=function(t,e,n){return t&&e in t?t[e]:"function"==typeof n?n():n},g=function(){function t(e){var n=this;i(this,t),p(this);var r=b.bind(null,e);this.componentRegistry=r("componentRegistry",function(){return new a.default}),this.entityManager=r("entityManager",function(){return new s.default}),this.resourceLibrary=r("resourceLibrary",function(){return new c.default}),this.textureLibrary=r("textureLibrary",function(){return new f.default}),this.canvas=r("canvas",function(){return document.createElement("canvas")}),this.contextAttributes={alpha:r("alpha",!1),depth:r("depth",!1),stencil:r("stencil",!1),antialias:r("antialias",!1),premultipliedAlpha:r("premultipliedAlpha",!1),preserveDrawingBuffer:r("preserveDrawingBuffer",!1)},this.time=r("time",0),this.lastFrameTime=0,this.timeFrameOffset=0,this.frameNo=r("frameNo",0),this.clearColor=r("clearColor"),this.createGlContext=r("createGlContext",function(){return function(){return o(n.canvas,n.contextAttributes)}}),(0,d.default)(this.componentRegistry),this.entity=this.entityManager.createEntity(),this.entity.setComponent("blitpunk",this),this.entity.setComponent("resourceLibrary",this.resourceLibrary),this.entity.setComponent("textureLibrary",this.textureLibrary),this.componentRegistry.createComponent(this.entity,"children"),this.el=null,this.started=!1,this.stopped=!1,this.destroyed=!1}return t.prototype.start=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if(this.canStart){if(this.stopped)return this.stopped=!1,this.resize(),void this.requestAnimate();this.el=t,this.started=!0,this.glx=new l.default(this.createGlContext()),this.renderer=new h.default(this.glx),this._clearColor&&this.renderer.setClearColor(this._clearColor),this.startTime=y(),this.el.appendChild(this.canvas),this.resize(),this.requestAnimate()}},t.prototype.requestAnimate=function(){var t=this;this.rafSubscription=window.requestAnimationFrame(function(){return t.animate()})},t.prototype.cancelAnimate=function(){window.cancelAnimationFrame(this.rafSubscription)},t.prototype.stop=function(){this.canStop&&(this.stopped=!0,this.cancelAnimate())},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.cancelAnimate())},t.prototype.animate=function(){this.canAnimate&&(this.renderFrame(),this.requestAnimate())},t.prototype.renderFrame=function(){++this.frameNo,this.time=y()-this.startTime,this.lastFrameTime&&(this.timeFrameOffset=this.time-this.lastFrameTime),this.lastFrameTime=this.time,this.resize(),this.renderer.renderFrame(this.entity,this)},t.prototype.resize=function(){var t="inline"===window.getComputedStyle(this.el,null).display?this.el.parentNode:this.el,e=this.canvas,n=window.devicePixelRatio||1,r=t.clientWidth,i=t.clientHeight;e.style.width=r+"px",e.style.height=i+"px";var o=Math.round(r*n),u=Math.round(i*n);o===e.width&&u===e.height||(e.width=o,e.height=u),o===this.width&&u===this.height||(this.width=o,this.height=u,this.glx.gl.viewport(0,0,o,u))},u(t,[{key:"clearColor",get:function(){return this.renderer?this.renderer.clearColor:this._clearColor},set:function(t){this._clearColor=null==t?t:v(t),this.renderer&&this.renderer.setClearColor(this._clearColor)}},{key:"canStart",get:function(){return(!this.started||this.started&&this.stopped)&&!this.destroyed}},{key:"canStop",get:function(){return this.started&&!this.stopped&&!this.destroyed}},{key:"canAnimate",get:function(){return this.started&&!this.stopped&&!this.destroyed}}]),t}();e.default=g},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(){r(this,t),this.registry=new Map}return t.prototype.registerComponent=function(t,e){return this.registry.set(t,e),this},t.prototype.createComponent=function(t,e,n){var r=this.registry.get(e).create(t,n);return t.setComponent(e,r),this},t.prototype.updateComponent=function(t,e,n){var r=t[e];return this.registry.get(e).update(r,n),this},t.prototype.createOrUpdateComponent=function(t,e,n){return null!=t[e]?this.updateComponent(t,e,n):this.createComponent(t,e,n),this},t}();e.default=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(349)),o=function(){function t(){r(this,t),this.entities=new Map}return t.prototype.createEntity=function(){var t=new i.default;return this.entities.set(t.id,t),t},t.prototype.getEntity=function(t){return this.entities.get(t)},t.prototype.destroyEntity=function(t){var e=this.entities.get(t);return!!e&&(e.destroy(),this.entities.delete(t),!0)},t}();e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(51)),o=n(33),u=function(t){for(var e=t.components.keys(),n=Array.isArray(e),r=0,e=n?e:e[Symbol.iterator]();;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{if((r=e.next()).done)break;i=r.value}var o=i;t.destroyComponent(o)}},a=function(){function t(){r(this,t),this.components=new Map,this.id=(0,i.default)(),o(this)}return t.prototype.hasComponent=function(t){return this.components.has(t)},t.prototype.setComponent=function(t,e){if(this[t])throw new Error('Component name "'+t+'" is already assigned!');return this.components.set(t,e),this[t]=e,e.connectedEntity&&e.connectedEntity(this),this},t.prototype.destroyComponent=function(t){if(this.components.delete(t)){var e=this[t];delete this[t],e.disconnectedEntity&&e.disconnectedEntity(this)}return this},t.prototype.destroy=function(){this.emit("destroy",this),u(this)},t}();e.default=a},function(t,e,n){var r=n(351),i=n(352);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var u=(t=t||{}).random||(t.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,e)for(var a=0;a<16;++a)e[o+a]=u[a];return e||i(u)}},function(t,e,n){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=n}).call(e,n(53))},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+"-"+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]+i[t[r++]]}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(n(354)),u=r(n(141)),a=r(n(361)),s=function(){function t(){i(this,t),this.descriptors=new Map,this.vertexShaders=new Map,this.fragmentShaders=new Map,(0,a.default)(this)}return t.prototype.addDescriptor=function(t,e){return this.descriptors.set(t,new o.default(e)),this},t.prototype.addVertexShader=function(t,e){return this.vertexShaders.set(t,new u.default(u.default.VERTEX_SHADER,e)),this},t.prototype.addFragmentShader=function(t,e){return this.fragmentShaders.set(t,new u.default(u.default.FRAGMENT_SHADER,e)),this},t.prototype.findDescriptor=function(t){return this.descriptors.get(t)},t.prototype.findVertexShader=function(t){return this.vertexShaders.get(t)},t.prototype.findFragmentShader=function(t){return this.fragmentShaders.get(t)},t}();e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(355),a=r(n(99)),s=r(n(357)),c=r(n(358)),f=r(n(359)),l=r(n(360)),h=function(){function t(e){var n=this,r=e.vertexCount,o=e.attributes,u=e.aliases,a=e.proto;i(this,t),this.vertexCount=parseInt(r,10),(0,f.default)(this,o),(0,l.default)(this,u),(0,s.default)(this,a),(0,c.default)(this),Object.keys(this.attr).forEach(function(t){return Object.freeze(n.attr[t])}),Object.freeze(this.attr),Object.freeze(this)}return t.prototype.createVOArray=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new a.default(this,t,null,e)},t.prototype.createVO=function(t){return(0,u.createVO)(Object.create(this.voPrototype),this,t)},t.prototype.hasAttribute=function(t,e){var n=this.attr[t];return n&&n.size===e},o(t,[{key:"maxIndexedVOPoolSize",get:function(){return Math.floor(65536/this.vertexCount)}}]),t}();e.default=h},function(t,e,n){"use strict";e.__esModule=!0,e.createVO=function(t,e,n){if(t.descriptor=e||(n?n.descriptor:null),!t.descriptor)throw new Error("could not detect VODescriptor!");if(t.voArray=n||t.descriptor.createVOArray(),t.descriptor!==t.voArray.descriptor&&(t.descriptor.vertexCount!==t.voArray.descriptor.vertexCount||t.descriptor.vertexAttrCount!==t.voArray.descriptor.vertexAttrCount))throw new Error("Incompatible vertex object descriptors!");return t}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r(this,t),this.value=e}return t.prototype.touch=function(){++this.value},t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t,e){var n={toArray:{value:function(e){for(var n=[],r=Array.isArray(e)?e.map(function(e){return t.attr[e]}):t.attrList,i=r.length,o=0;o<t.vertexCount;++o)for(var u=0;u<i;++u)for(var a=r[u],s=0;s<a.size;++s)n.push(a.getValue(this,o,s));return n}}};Object.keys(t.attr).forEach(function(e){var r=t.attr[e];i.default.defineProperties(r,n,t)}),t.voPrototype=Object.create("object"===(void 0===e?"undefined":r(e))?e:{},n)};var i=function(t){return t&&t.__esModule?t:{default:t}}(n(100))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.typedArrays={float32:!1,int16:!1,int32:!1,int8:!1,uint16:!1,uint32:!1,uint8:!1},Object.keys(t.attr).forEach(function(e){t.typedArrays[t.attr[e].type]=!0}),Object.freeze(t.typedArrays),t.typeList=Object.keys(t.typedArrays).filter(function(e){return t.typedArrays[e]}).sort()}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(t.attr={},t.attrNames=[],Array.isArray(e)){for(var n=0,o=0,u=0;u<e.length;++u){var a=e[u];if(void 0===a.size)throw new Error("vertex object attribute descriptor has no size!");var s=a.type||"float32";void 0!==a.name&&(t.attrNames.push(a.name),t.attr[a.name]=new i.default(a.name,s,a.size,n,o,!!a.uniform,a.attrNames)),n+=a.size,o+=r.BYTES_PER_ELEMENT[s]*a.size}t.rightPadBytesPerVertex=o%4>0?4-o%4:0,t.bytesPerVertex=o+t.rightPadBytesPerVertex,t.bytesPerVO=t.bytesPerVertex*t.vertexCount,t.vertexAttrCount=n}t.attrList=t.attrNames.map(function(e){return t.attr[e]})};var r=n(66),i=function(t){return t&&t.__esModule?t:{default:t}}(n(100))},function(t,e,n){"use strict";e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t,e){"object"===(void 0===e?"undefined":r(e))&&Object.keys(e).forEach(function(n){var r=e[n];"string"==typeof r?void 0!==(r=t.attr[r])&&(t.attr[n]=r):t.attr[n]=new i.default(n,r.type,r.size,r.offset,r.byteOffset,!!r.uniform,r.attrNames)})};var i=function(t){return t&&t.__esModule?t:{default:t}}(n(100))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.addDescriptor("simple",r.description).addVertexShader("simple",r.vertexShader).addFragmentShader("simple",r.fragmentShader)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(362))},function(t,e,n){"use strict";e.__esModule=!0,e.description=e.fragmentShader=e.vertexShader=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(363));e.vertexShader=["\n\n  attribute vec2 pos2d;\n  attribute float posZ;\n  attribute vec2 uv;\n  attribute vec2 translate;\n  attribute float rotate;\n  attribute float scale;\n  attribute float opacity;\n\n  uniform mat4 viewMatrix;\n\n  varying vec4 vTextureCoordScaleOpacity;\n\n  ",(0,r.default)("rotateZ",0,0,1),"\n\n  void main(void)\n  {\n    mat4 rotationMatrix = rotateZ(rotate);\n    gl_Position = viewMatrix * ((rotationMatrix * (vec4(scale, scale, scale, 1.0) * vec4(pos2d.xy, posZ, 1.0))) + vec4(translate.xy, 0.0, 0.0));\n    vTextureCoordScaleOpacity = vec4(uv.xy, opacity, 0.0);\n  }\n"],e.fragmentShader="\n\n  precision mediump float;\n\n  varying vec4 vTextureCoordScaleOpacity;\n  uniform sampler2D tex;\n\n  void main(void) {\n    gl_FragColor = vTextureCoordScaleOpacity.z * texture2D(tex, vec2(vTextureCoordScaleOpacity.s, vTextureCoordScaleOpacity.t));\n  }\n\n",e.description={vertexCount:4,attributes:[{name:"position",type:"float32",size:3,attrNames:["x","y","z"]},{name:"rotate",type:"float32",size:1,uniform:!0},{name:"texCoords",type:"float32",size:2,attrNames:["s","t"]},{name:"translate",type:"float32",size:2,attrNames:["tx","ty"],uniform:!0},{name:"scale",type:"float32",size:1,uniform:!0},{name:"opacity",type:"float32",size:1,uniform:!0}],aliases:{pos2d:{size:2,type:"float32",offset:0},posZ:{size:1,type:"float32",offset:2,uniform:!0},uv:"texCoords"},proto:{setTexCoordsByViewport:function(t,e,n,r){var i=0===t.x?0:t.x/e,o=(t.x+t.width)/e,u=1-(t.y+t.height)/n,a=0===t.y?1:1-t.y/n;void 0!==r&&(i*=r,o*=r,u*=r,a*=r),this.setTexCoords(i,u,o,u,o,a,i,a)},setTexCoordsByTexture:function(t){var e=t.minS,n=t.minT,r=t.maxS,i=t.maxT;this.setTexCoords(e,n,r,n,r,i,e,i)},setSize:function(t,e){var n=.5*t,r=.5*(null==e?t:e);this.setPos2d(-n,r,n,r,n,-r,-n,-r)},get width(){return this.x1-this.x3},get height(){return this.y0-this.y2},get rotateDegree(){return 180*this.rotate/Math.PI},set rotateDegree(t){this.rotate=t*(Math.PI/180)},get z(){return this.z0},set z(t){this.z0=t,this.z1=t,this.z2=t,this.z3=t}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rotate",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return["mat4 "+t+"(float angle) {","float s = sin(angle);","float c = cos(angle);","float oc = 1.0 - c;",(0,i.default)((0,o.default)((0,s.default)((0,u.default)("oc",e*e),"c"),(0,a.default)((0,u.default)("oc",e*n),(0,u.default)(r,"s")),(0,s.default)((0,u.default)("oc",r*e),(0,u.default)(n,"s")),0,(0,s.default)((0,u.default)("oc",e*n),(0,u.default)(r,"s")),(0,s.default)((0,u.default)("oc",n*n),"c"),(0,a.default)((0,u.default)("oc",n*r),(0,u.default)(e,"s")),0,(0,a.default)((0,u.default)("oc",r*e),(0,u.default)(n,"s")),(0,s.default)((0,u.default)("oc",n*r),(0,u.default)(e,"s")),(0,s.default)((0,u.default)("oc",r*r),"c"))),"}"]};var i=r(n(364)),o=r(n(365)),u=r(n(367)),a=r(n(368)),s=r(n(369))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return"return "+t+";"}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,d=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,v=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,y=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1,b=(arguments.length>16&&void 0!==arguments[16]?arguments[16]:r.default)||function(t){return t+""};return"mat4("+b(t)+", "+b(e)+", "+b(n)+", "+b(i)+", "+b(o)+", "+b(u)+", "+b(a)+", "+b(s)+", "+b(c)+", "+b(f)+", "+b(l)+", "+b(h)+", "+b(d)+", "+b(p)+", "+b(v)+", "+b(y)+")"};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(366))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=(t+"").trim();return e.match(/^[0-9]+$/)?e+".0":e}},function(t,e,n){"use strict";function r(t){return"number"==typeof t}e.__esModule=!0,e.default=function(t,e){if(r(e)&&r(t))return t*e;if(r(t))switch(t){case 0:return 0;case 1:return e;default:return t+" * "+e}else{if(!r(e))return t+" * "+e;switch(e){case 0:return 0;case 1:return t;default:return t+" * "+e}}}},function(t,e,n){"use strict";function r(t){return"number"==typeof t}e.__esModule=!0,e.default=function(t,e){if(r(t)&&r(e))return t-e;if(r(t))switch(t){case 0:return"-"+e;default:return t+" - "+e}else{if(!r(e))return t+" - "+e;switch(e){case 0:return t;default:return t+" - "+e}}}},function(t,e,n){"use strict";function r(t){return"number"==typeof t}e.__esModule=!0,e.default=function(t,e){if(r(t)&&r(e))return t+e;if(r(t))switch(t){case 0:return e;default:return t+" + "+e}else{if(!r(e))return t+" + "+e;switch(e){case 0:return t;default:return t+" + "+e}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(n(101)),u=r(n(372)),a=r(n(143)),s=r(n(145)),c=function(){function t(){i(this,t),this.states=new Map,this.shaderVars=new Map}return t.prototype.loadTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=new u.default(o.default.load(e,n));return this.states.set(t,r),r.promise},t.prototype.loadTextureAtlas=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=a.default.load(e,null,null,n),i=new u.default(r.then(function(t){return i.atlas=t,t.rootTexture}));return this.states.set(t,i),r},t.prototype.getTextureAtlas=function(t){return this.states.get(t).atlas},t.prototype.whenLoaded=function(t,e,n){var r=this.states.get(t);if(void 0!==r&&r.isReady){var i=this.shaderVars.get(e);void 0===i&&(i=new s.default(e),this.shaderVars.set(e,i)),i.texture=r.texture,n(i)}},t}();e.default=c},function(t,e,n){"use strict";e.__esModule=!0;e.maxOf=function(t,e){return t>e?t:e},e.findNextPowerOf2=function(t){for(var e=1;t>e;)e<<=1;return e},e.isPowerOf2=function(t){return 0!==t&&0==(t&t-1)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){var i=this;r(this,t),this.texture=null,this.atlas=null,this.promise=Promise.resolve(e).then(function(t){return i.texture=t,t}).catch(function(t){console.error("TextureState error:",t)}),Promise.resolve(n).then(function(t){i.atlas=t})}return i(t,[{key:"isReady",get:function(){return null!=this.texture}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=r(n(101)),a=r(n(143)),s=r(n(142)),c=function(){function t(e){i(this,t),this.jsonDef=e,this.frameNames=Object.keys(e.frames)}return t.prototype.createTextureAtlas=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Promise.resolve(e).then(function(e){if("function"==typeof e)return Promise.resolve(e(t)).then(function(t){return"string"==typeof t?new s.default(t).complete:t});if("string"==typeof e)return new s.default(e).complete;if(e)return e;throw new Error("TextureAtlasSpec.createTextureAtlas(): no image found!")}).then(function(e){for(var r=new u.default(e,void 0,void 0,0,0,n),i=new a.default(r,t),o=Object.keys(t.frames),s=Array.isArray(o),c=0,o=s?o:o[Symbol.iterator]();;){var f;if(s){if(c>=o.length)break;f=o[c++]}else{if((c=o.next()).done)break;f=c.value}var l=f,h=t.frames[l].frame;i.addFrame(l,h.w,h.h,h.x,h.y)}return i})},t.load=function(e,n){return window.fetch(e,n).then(function(t){return t.json()}).then(function(e){return new t(e)})},o(t,[{key:"frames",get:function(){return this.jsonDef.frames}},{key:"meta",get:function(){return this.jsonDef.meta}},{key:"imageUrl",get:function(){return this.meta.image}}]),t}();e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=t.gl;t.DEPTH_BITS=e.getParameter(e.DEPTH_BITS),t.MAX_TEXTURE_IMAGE_UNITS=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}e.__esModule=!0;var u=r(n(375)),a=r(n(382)),s=function(){function t(e){i(this,t),Object.defineProperty(this,"gl",{value:e}),o(this),this.resourceLibrary=new u.default(this),this.boundBuffers=new Map,this.currentProgram=0,this.enabledVertexAttribLocations=[],this.textureManager=new a.default(this),this.boundTextures=new Array(this.MAX_TEXTURE_IMAGE_UNITS);for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]={TEXTURE_2D:null};this.readCurrentState(),this.activeTexture(0)}return t.prototype.blend=function(t){var e=this.gl;t.enable?(this.blendEnabled||(e.enable(e.BLEND),this.blendEnabled=!0),e.blendFunc(e[t.sfactor],e[t.dfactor])):this.blendEnabled&&(e.disable(e.BLEND),this.blendEnabled=!1)},t.prototype.activeTexture=function(t){var e=this.gl,n=e.TEXTURE0+t;this.activeTexUnit!==n&&(this.activeTexUnit=n,e.activeTexture(this.activeTexUnit))},t.prototype.bindTexture2d=function(t){var e=this.gl,n=this.boundTextures[this.activeTexUnit-e.TEXTURE0];n.TEXTURE_2D!==t&&(n.TEXTURE_2D=t,e.bindTexture(e.TEXTURE_2D,t))},t.prototype.readCurrentState=function(){var t=this.gl;this.boundBuffers.set(t.ARRAY_BUFFER,t.getParameter(t.ARRAY_BUFFER_BINDING)),this.boundBuffers.set(t.ELEMENT_ARRAY_BUFFER,t.getParameter(t.ELEMENT_ARRAY_BUFFER_BINDING)),this.currentProgram=t.getParameter(t.CURRENT_PROGRAM),this.blendEnabled=t.getParameter(t.BLEND)},t.prototype.bindBuffer=function(t,e){this.boundBuffers.get(t)!==e&&(this.gl.bindBuffer(t,e),this.boundBuffers.set(t,e))},t.prototype.useProgram=function(t){return this.currentProgram!==t&&(this.gl.useProgram(t),this.currentProgram=t,!0)},t.prototype.enableVertexAttribArrays=function(t){var e=this,n=this.gl;this.enabledVertexAttribLocations.filter(function(e){return-1===t.indexOf(e)}).forEach(function(r){n.disableVertexAttribArray(r),e.enabledVertexAttribLocations.splice(t.indexOf(r),1)}),t.forEach(function(t){-1===e.enabledVertexAttribLocations.indexOf(t)&&(n.enableVertexAttribArray(t),e.enabledVertexAttribLocations.push(t))})},t}();e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(n(65)),u=r(n(376)),a=r(n(378)),s=r(n(146)),c=r(n(381)),f=Object.freeze({static:s.default.STATIC_DRAW,dynamic:s.default.DYNAMIC_DRAW}),l=function(){function t(e){i(this,t),Object.defineProperty(this,"glx",{value:e}),this.vertexShader=new Map,this.fragmentShader=new Map,this.shaderProgram=new Map,this.buffer=new Map,this.texture=new Map}return t.prototype.loadVertexShader=function(t){var e=this.vertexShader.get(t.id);return e||(e=new u.default(this.glx,t),this.vertexShader.set(t.id,e)),e},t.prototype.loadFragementShader=function(t){var e=this.fragmentShader.get(t.id);return e||(e=new u.default(this.glx,t),this.vertexShader.set(t.id,e)),e},t.prototype.loadProgram=function(t){var e=this.shaderProgram.get(t.id);return e||(e=new a.default(this.glx,t),this.shaderProgram.set(t.id,e)),e},t.prototype.loadBuffer=function(t){var e=this.buffer.get(t.id);if(!e){var n=t.hints.target||s.default.ARRAY_BUFFER,r=new s.default(this.glx,n,f[t.hints.usage]);e=new o.default(r,{id:t.id,serial:0}),this.buffer.set(t.id,e)}return e},t.prototype.findBuffer=function(t){return this.buffer.get(t.id)},t.prototype.loadTexture=function(t){var e=this.texture.get(t.id);if(!e){var n=new c.default(this.glx,t.resource.imgEl,t.hints.flipY,t.hints.repeatable,t.hints.premultiplyAlpha,t.hints.nearest);e=new o.default(n,{id:t.id,serial:0}),this.texture.set(t.id,e)}return e},t}();e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=t.glx.gl,n=t.glShader,r=t.source,i=(0,a.default)({glx:t.glx},r.source);if(e.shaderSource(n,i),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var o=e.getShaderInfoLog(n);console.error(o),console.group("shader-info"),console.debug("shaderSource",t),console.log(r),console.groupEnd();var u=new Error("WebGlShader compile panic!");throw u.webGlShader=t,u.shaderInfoLog=o,u}}e.__esModule=!0;var u=r(n(141)),a=r(n(377));e.default=function t(e,n){if(i(this,t),this.glx=e,!(n instanceof u.default))throw new Error("WebGlShader panic! source must be an instance of ShaderSource!");this.source=n;var r=e.gl;this.shaderType=r[n.type],this.glShader=r.createShader(this.shaderType),o(this),Object.freeze(this)}},function(t,e,n){"use strict";function r(t,e){return"string"==typeof e?e:"function"==typeof e?r(t,e(t)):Array.isArray(e)?e.map(r.bind(null,t)).join("\n"):e+""}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=t.glx.gl,n=e.getProgramParameter(t.glProgram,e.ACTIVE_ATTRIBUTES);t.attributes={},t.attributeNames=[],t.attributeLocations=[];for(var r=0;r<n;++r){var i=new c.default(t,r);t.attributes[i.name]=i,t.attributeNames.push(i.name),t.attributeLocations.push(i.location)}Object.freeze(t.attributes)}function u(t){var e=t.glx.gl,n=e.getProgramParameter(t.glProgram,e.ACTIVE_UNIFORMS);t.uniforms={},t.uniformNames=[];for(var r=0;r<n;++r){var i=new s.default(t,r);t.uniforms[i.name]=i,t.uniformNames.push(i.name)}Object.freeze(t.uniforms)}function a(t,e,n){var r=t.glx.gl,i=t.glProgram;if(r.attachShader(i,e),r.attachShader(i,n),r.linkProgram(i),!r.getProgramParameter(i,r.LINK_STATUS)){var o=new Error("WebGlProgram link panic!");throw o.webGlProgram=t,o}}e.__esModule=!0;var s=r(n(379)),c=r(n(380)),f=function(){function t(e,n){i(this,t),this.glx=e,this.vertexShader=e.resourceLibrary.loadVertexShader(n.vertexShader),this.fragmentShader=e.resourceLibrary.loadFragementShader(n.fragmentShader);var r=e.gl;this.glProgram=r.createProgram(),a(this,this.vertexShader.glShader,this.fragmentShader.glShader),u(this),o(this),Object.freeze(this)}return t.prototype.use=function(){var t=this.glx;return!!t.useProgram(this.glProgram)&&(t.enableVertexAttribArrays(this.attributeLocations),!0)},t.prototype.loadUniforms=function(t,e){var n=this;this.uniformNames.forEach(function(r){var i=t.curUniform(r);null==i&&(null==(i=t.curTex2d(r))&&console.error("[WebGlProgram] could not load uniform:",r),i.syncTextureAndValue(e)),n.uniforms[r].setValue(i.value)})},t.prototype.loadAttributes=function(t,e){var n=this;this.attributeNames.forEach(function(r){var i=t.curAttrib(r).value;e.syncBuffer(i).bindBuffer(),n.attributes[r].vertexAttribPointer(i.descriptor)})},t}();e.default=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t.type,n=t.location,r=t.glx.gl;switch(e){case r.FLOAT:return function(t){return r.uniform1f(n,t)};case r.FLOAT_VEC2:return function(t){return r.uniform2f(n,t[0],t[1])};case r.FLOAT_VEC3:return function(t){return r.uniform3f(n,t[0],t[1],t[2])};case r.FLOAT_VEC4:return function(t){return r.uniform4f(n,t[0],t[1],t[2],t[3])};case r.FLOAT_MAT4:return function(t){return r.uniformMatrix4fv(n,r.FALSE,t.mat4)};case r.SAMPLER_2D:return function(t){return r.uniform1i(n,t)}}var i=new Error("WebGlUniform unknown uniform type:"+e);throw i.webGlUniform=t,i}e.__esModule=!0;e.default=function t(e,n){r(this,t),this.program=e,this.glx=e.glx;var o=e.glx.gl,u=e.glProgram,a=o.getActiveUniform(u,n),s=a.name,c=a.size,f=a.type;this.name=s,this.size=c,this.type=f,this.location=o.getUniformLocation(u,s),this.setValue=i(this),Object.freeze(this)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(66),o=function(t,e){return t[i.GL_ITEM_TYPES[e]]},u=function(){function t(e,n){r(this,t),this.program=e,this.glx=e.glx;var i=e.glx.gl,o=e.glProgram,u=i.getActiveAttrib(o,n),a=u.name,s=u.size,c=u.type;this.name=a,this.size=s,this.type=c,this.location=i.getAttribLocation(o,a),Object.freeze(this)}return t.prototype.vertexAttribPointer=function(t){var e=this.glx.gl,n=t.attr[this.name],r=o(e,n.type);e.vertexAttribPointer(this.location,n.size,r,!1,t.bytesPerVertex,n.byteOffset)},t}();e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){t.bind();var e=t.glx.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha);var n=t.repeatable?e.REPEAT:e.CLAMP_TO_EDGE;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,n);var r=t.nearest?e.NEAREST:e.LINEAR;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.imgEl.width,t.imgEl.height,0,e.RGBA,e.UNSIGNED_BYTE,null)}e.__esModule=!0;var o=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];r(this,t),this.glx=e,this.imgEl=n,this.flipY=i,this.repeatable=o,this.premultiplyAlpha=u,this.nearest=a,this.isInitialized=!1,this.glTexObj=e.gl.createTexture(),this.texUnit=-1}return t.prototype.bind=function(){return this.glx.textureManager.bindWebGlTexture(this)},t.prototype.uploadImageData=function(){if(null!=this.imgEl){this.isInitialized||(i(this),this.isInitialized=!0),this.bind();var t=this.glx.gl;t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.imgEl)}},t}();e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(e){r(this,t),Object.defineProperty(this,"glx",{value:e}),this.boundTextures=new Array(e.MAX_TEXTURE_IMAGE_UNITS);for(var n=0;n<this.boundTextures.length;++n)this.boundTextures[n]=null;this.lastBoundTexUnit=0}return t.prototype.bindWebGlTexture=function(t){var e=this.boundTextures.indexOf(t);if(e<0){for(var n=0;n<this.boundTextures.length;++n)if(!this.boundTextures[n]){e=n,this.boundTextures[n]=t;break}if(e<0){e=this.lastBoundTexUnit;var r=this.boundTextures[e];r&&(r.texUnit=-1),this.lastBoundTexUnit=(this.lastBoundTexUnit+1)%this.glx.MAX_TEXTURE_IMAGE_UNITS}this.glx.activeTexture(e),this.glx.bindTexture2d(t.glTexObj),t.texUnit=e}return e},t}();e.default=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(384)),o=n(33),u=n(147),a=function(t,e){var n=e.resource;n.enableAutotouch&&(t.autotouchResources.has(e.id)||(t.autotouchResources.set(e.id,!0),n.touch()))},s=function(t){var e=t.blendStack[t.blendStack.length-1]||t.initialBlendMode;e&&!e.isEqual(t.currentBlendMode)&&(t.glx.blend(e),t.currentBlendMode=e)},c=function(){function t(e){r(this,t),Object.defineProperty(this,"glx",{value:e}),this.shaderContext=new i.default,this.autotouchResources=new Map,this.clearColor=null,this.blendStack=[],this.initialBlendMode=null,this.currentBlendMode=null,o(this)}return t.prototype.setClearColor=function(t){this.clearColor=u(t)},t.prototype.setInitialBlendMode=function(t){this.initialBlendMode=t},t.prototype.renderFrame=function(t,e){this.shaderContext.clear(),t.emit("animateFrame",e),this.beginRenderFrame(),t.emit("renderFrame",this,e),this.endRenderFrame()},t.prototype.beginRenderFrame=function(){this.clearFrameBuffer()},t.prototype.endRenderFrame=function(){this.autotouchResources.clear()},t.prototype.clearFrameBuffer=function(){var t=this.glx.gl,e=t.COLOR_BUFFER_BIT;if(this.glx.DEPTH_BITS>0&&(e|=t.DEPTH_BUFFER_BIT),null!==this.clearColor){var n=this.clearColor.toRgb();t.clearColor(n.r/255,n.g/255,n.b/255,n.a)}t.clear(e)},t.prototype.pushBlendMode=function(t){this.blendStack.push(t)},t.prototype.popBlendMode=function(){this.blendStack.pop()},t.prototype.useShaderProgram=function(t){var e=this.glx.resourceLibrary.loadProgram(t),n=this.shaderContext;e.use(n),e.loadUniforms(n,this),e.loadAttributes(n,this)},t.prototype.drawArrays=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;s(this);var r=this.glx.gl;r.drawArrays(r[t],n,e)},t.prototype.drawIndexed=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;s(this),this.syncBuffer(e).bindBuffer();var i=this.glx.gl;i.drawElements(i[t],n||e.length,i.UNSIGNED_SHORT,r*e.array.BYTES_PER_ELEMENT)},t.prototype.syncBuffer=function(t){var e=t.resourceRef;a(this,e);var n=this.glx.resourceLibrary.loadBuffer(e);return n.sync(e,function(t){return t.bufferData(e.hints.typedArray)}),n.resource},t.prototype.syncTexture=function(t){var e=t.resourceRef,n=this.glx.resourceLibrary.loadTexture(e);return n.sync(e,function(t){return t.uploadImageData()}),n.resource},t}();e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){switch(e){case a.default.TYPE.UNIFORM:return t.uniform;case a.default.TYPE.ATTRIB:return t.attrib;case a.default.TYPE.TEXTURE_2D:return t.tex2d}}function u(t,e,n){var r=o(t,e),i=r.get(n);return i||(i=[],r.set(n,i)),i}e.__esModule=!0;var a=r(n(67)),s=r(n(102)),c=function(){function t(){i(this,t),this.uniform=new Map,this.attrib=new Map,this.tex2d=new Map}return t.prototype.clear=function(){this.uniform.clear(),this.attrib.clear(),this.tex2d.clear()},t.prototype.pushVar=function(t){t instanceof s.default?t.pushVar(this):u(this,t.type,t.name).push(t)},t.prototype.popVar=function(t){if(t instanceof s.default)t.popVar(this);else for(var e=u(this,t.type,t.name),n=e.length,r=0;r<n;++r)if(e[r]===t)return void(e.length=r)},t.prototype.curVar=function(t){var e=o(this,t.type).get(t.name);return e&&e.length?e[e.length-1]:null},t.prototype.curUniform=function(t){var e=this.uniform.get(t);return e&&e.length?e[e.length-1]:null},t.prototype.curAttrib=function(t){var e=this.attrib.get(t);return e&&e.length?e[e.length-1]:null},t.prototype.curTex2d=function(t){var e=this.tex2d.get(t);return e&&e.length?e[e.length-1]:null},t}();e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(t){t.registerComponent("projection",s(o.default)),t.registerComponent("children",s(u.default)),t.registerComponent("blend-mode",s(a.default))};var i=r(n(103)),o=r(n(386)),u=r(n(396)),a=r(n(397)),s=function(t){return{create:function(e,n){return new t(e,(0,i.default)(n))},update:function(t,e){t.update((0,i.default)(e))}}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(387)),o=n(21),u=function(){function t(e,n){r(this,t),this.projection=new i.default(n),e.on("*",o.COMP_PRIO_PROJECTION,this)}return t.prototype.animateFrame=function(t){this.projection.update(t.width,t.height)},t.prototype.renderFrame=function(t){t.shaderContext.pushVar(this.projection.uniform)},t.prototype.debug=function(){console.dir(this.projection)},t.prototype.update=function(t){console.log("TODO ProjectionComponent.update(",t,")")},t.prototype.disconnectedEntity=function(t){console.log("ProjectionComponent.disconnectedEntity(",t,")"),t.off(this)},t}();e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(n(388)),u=r(n(395)),a="viewMatrix",s=function(){function t(e){var n=e.desiredWidth,r=e.desiredHeight,s=e.pixelRatio,c=e.sizeFit,f=e.uniformName;i(this,t),this.desiredWidth=n,this.desiredHeight=r,this.pixelRatio=s,this.sizeFit=c,this.uniform=new u.default(f||a,new o.default),this.width=0,this.height=0}return t.prototype.updateOrtho=function(t,e){t===this.width&&e===this.height||(this.width=t,this.height=e,this.uniform.value.perspective(t,e,100),this.uniform.touch())},t.prototype.update=function(t,e){if("fill"===this.sizeFit&&this.desiredWidth>0&&this.desiredHeight>0)this.updateOrtho(this.desiredWidth,this.desiredHeight);else if(("cover"===this.sizeFit||"contain"===this.sizeFit)&&this.desiredWidth>=0&&this.desiredHeight>=0){var n=e/t,r=this.desiredHeight/this.desiredWidth,i="cover"===this.sizeFit,o=this.desiredWidth,u=this.desiredHeight;if(0===this.desiredWidth&&this.desiredHeight||n<r){if(o=this.desiredHeight/e*t,i){var a=this.desiredWidth/o;o*=a,u*=a}}else if((this.desiredWidth&&0===this.desiredHeight||n>r)&&(u=this.desiredWidth/t*e,i)){var s=this.desiredHeight/u;o*=s,u*=s}this.updateOrtho(o,u)}},t}();e.default=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(389).mat4,u=Math.PI/180,a=function(){function t(){r(this,t),this.mat4=o.create(),Object.freeze(this)}return t.prototype.identity=function(){o.identity(this.mat4)},t.prototype.ortho=function(t,e){var n=t>>1,r=e>>1,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(2,16))>>1;o.ortho(this.mat4,-n,n,-r,r,-i,i)},t.prototype.perspective=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=t/e,i=e/2,u=2*Math.atan(i/n);o.perspective(this.mat4,u,r,0,2e3),o.translate(this.mat4,this.mat4,[0,0,-n])},t.prototype.translate=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;o.translate(this.mat4,this.mat4,[t,e,n])},t.prototype.scale=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;o.scale(this.mat4,this.mat4,[t,e,n])},t.prototype.rotateX=function(t){o.rotateX(this.mat4,this.mat4,t*u)},t.prototype.rotateY=function(t){o.rotateY(this.mat4,this.mat4,t*u)},t.prototype.rotateZ=function(t){o.rotateZ(this.mat4,this.mat4,t*u)},t.prototype.multiply=function(t,e){o.multiply(this.mat4,t.mat4,e.mat4)},t.prototype.copy=function(t){o.copy(this.mat4,t.mat4)},t.prototype.clone=function(){var e=new t;return e.copy(this),e},i(t,[{key:"x",get:function(){return this.mat4[12]},set:function(t){this.mat4[12]=t}},{key:"y",get:function(){return this.mat4[13]},set:function(t){this.mat4[13]=t}},{key:"z",get:function(){return this.mat4[14]},set:function(t){this.mat4[14]=t}},{key:"sx",get:function(){return this.mat4[0]},set:function(t){this.mat4[0]=t}},{key:"sy",get:function(){return this.mat4[5]},set:function(t){this.mat4[5]=t}},{key:"sz",get:function(){return this.mat4[10]},set:function(t){this.mat4[10]=t}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),i=n(390),o=n(391),u=n(148),a=n(392),s=n(393),c=n(394),f=n(149),l=n(150);n.d(e,"glMatrix",function(){return r}),n.d(e,"mat2",function(){return i}),n.d(e,"mat2d",function(){return o}),n.d(e,"mat3",function(){return u}),n.d(e,"mat4",function(){return a}),n.d(e,"quat",function(){return s}),n.d(e,"vec2",function(){return c}),n.d(e,"vec3",function(){return f}),n.d(e,"vec4",function(){return l})},function(t,e,n){"use strict";function r(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*a+o*s,t[1]=i*a+u*s,t[2]=r*c+o*f,t[3]=i*c+u*f,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new o.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.clone=function(t){let e=new o.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,e,n,r){let i=new o.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i},e.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},e.transpose=function(t,e){if(t===e){let n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},e.invert=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=n*o-i*r;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t):null},e.adjoint=function(t,e){let n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=r,e.rotate=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*a,t[1]=i*s+u*a,t[2]=r*-a+o*s,t[3]=i*-a+u*s,t},e.scale=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=n[0],s=n[1];return t[0]=r*a,t[1]=i*a,t[2]=o*s,t[3]=u*s,t},e.fromRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=i,e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){let n=t[0],r=t[1],i=t[2],u=t[3],a=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(n-a)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-s)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-c)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(u-f)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(f))},e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t};var o=n(29);const u=r;e.mul=u;const a=i;e.sub=a},function(t,e,n){"use strict";function r(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=n[0],f=n[1],l=n[2],h=n[3],d=n[4],p=n[5];return t[0]=r*c+o*f,t[1]=i*c+u*f,t[2]=r*l+o*h,t[3]=i*l+u*h,t[4]=r*d+o*p+a,t[5]=i*d+u*p+s,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new o.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.clone=function(t){let e=new o.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,e,n,r,i,u){let a=new o.ARRAY_TYPE(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i,a[5]=u,a},e.set=function(t,e,n,r,i,o,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=u,t},e.invert=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=n*o-r*i;return s?(s=1/s,t[0]=o*s,t[1]=-r*s,t[2]=-i*s,t[3]=n*s,t[4]=(i*a-o*u)*s,t[5]=(r*u-n*a)*s,t):null},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=r,e.rotate=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=Math.sin(n),f=Math.cos(n);return t[0]=r*f+o*c,t[1]=i*f+u*c,t[2]=r*-c+o*f,t[3]=i*-c+u*f,t[4]=a,t[5]=s,t},e.scale=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=n[0],f=n[1];return t[0]=r*c,t[1]=i*c,t[2]=o*f,t[3]=u*f,t[4]=a,t[5]=s,t},e.translate=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=n[0],f=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=u,t[4]=r*c+o*f+a,t[5]=i*c+u*f+s,t},e.fromRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},e.equals=function(t,e){let n=t[0],r=t[1],i=t[2],u=t[3],a=t[4],s=t[5],c=e[0],f=e[1],l=e[2],h=e[3],d=e[4],p=e[5];return Math.abs(n-c)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-f)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-l)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(u-h)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(a-d)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-p)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))};var o=n(29);const u=r;e.mul=u;const a=i;e.sub=a},function(t,e,n){"use strict";function r(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],p=e[11],v=e[12],y=e[13],b=e[14],g=e[15],m=n[0],_=n[1],x=n[2],w=n[3];return t[0]=m*r+_*a+x*l+w*v,t[1]=m*i+_*s+x*h+w*y,t[2]=m*o+_*c+x*d+w*b,t[3]=m*u+_*f+x*p+w*g,m=n[4],_=n[5],x=n[6],w=n[7],t[4]=m*r+_*a+x*l+w*v,t[5]=m*i+_*s+x*h+w*y,t[6]=m*o+_*c+x*d+w*b,t[7]=m*u+_*f+x*p+w*g,m=n[8],_=n[9],x=n[10],w=n[11],t[8]=m*r+_*a+x*l+w*v,t[9]=m*i+_*s+x*h+w*y,t[10]=m*o+_*c+x*d+w*b,t[11]=m*u+_*f+x*p+w*g,m=n[12],_=n[13],x=n[14],w=n[15],t[12]=m*r+_*a+x*l+w*v,t[13]=m*i+_*s+x*h+w*y,t[14]=m*o+_*c+x*d+w*b,t[15]=m*u+_*f+x*p+w*g,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new o.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.clone=function(t){let e=new o.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.fromValues=function(t,e,n,r,i,u,a,s,c,f,l,h,d,p,v,y){let b=new o.ARRAY_TYPE(16);return b[0]=t,b[1]=e,b[2]=n,b[3]=r,b[4]=i,b[5]=u,b[6]=a,b[7]=s,b[8]=c,b[9]=f,b[10]=l,b[11]=h,b[12]=d,b[13]=p,b[14]=v,b[15]=y,b},e.set=function(t,e,n,r,i,o,u,a,s,c,f,l,h,d,p,v,y){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=u,t[6]=a,t[7]=s,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=y,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.transpose=function(t,e){if(t===e){let n=e[1],r=e[2],i=e[3],o=e[6],u=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=u,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],b=e[15],g=n*a-r*u,m=n*s-i*u,_=n*c-o*u,x=r*s-i*a,w=r*c-o*a,M=i*c-o*s,E=f*v-l*p,A=f*y-h*p,T=f*b-d*p,S=l*y-h*v,O=l*b-d*v,R=h*b-d*y,P=g*R-m*O+_*S+x*T-w*A+M*E;return P?(P=1/P,t[0]=(a*R-s*O+c*S)*P,t[1]=(i*O-r*R-o*S)*P,t[2]=(v*M-y*w+b*x)*P,t[3]=(h*w-l*M-d*x)*P,t[4]=(s*T-u*R-c*A)*P,t[5]=(n*R-i*T+o*A)*P,t[6]=(y*_-p*M-b*m)*P,t[7]=(f*M-h*_+d*m)*P,t[8]=(u*O-a*T+c*E)*P,t[9]=(r*T-n*O-o*E)*P,t[10]=(p*w-v*_+b*g)*P,t[11]=(l*_-f*w-d*g)*P,t[12]=(a*A-u*S-s*E)*P,t[13]=(n*S-r*A+i*E)*P,t[14]=(v*m-p*x-y*g)*P,t[15]=(f*x-l*m+h*g)*P,t):null},e.adjoint=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],a=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],y=e[14],b=e[15];return t[0]=a*(h*b-d*y)-l*(s*b-c*y)+v*(s*d-c*h),t[1]=-(r*(h*b-d*y)-l*(i*b-o*y)+v*(i*d-o*h)),t[2]=r*(s*b-c*y)-a*(i*b-o*y)+v*(i*c-o*s),t[3]=-(r*(s*d-c*h)-a*(i*d-o*h)+l*(i*c-o*s)),t[4]=-(u*(h*b-d*y)-f*(s*b-c*y)+p*(s*d-c*h)),t[5]=n*(h*b-d*y)-f*(i*b-o*y)+p*(i*d-o*h),t[6]=-(n*(s*b-c*y)-u*(i*b-o*y)+p*(i*c-o*s)),t[7]=n*(s*d-c*h)-u*(i*d-o*h)+f*(i*c-o*s),t[8]=u*(l*b-d*v)-f*(a*b-c*v)+p*(a*d-c*l),t[9]=-(n*(l*b-d*v)-f*(r*b-o*v)+p*(r*d-o*l)),t[10]=n*(a*b-c*v)-u*(r*b-o*v)+p*(r*c-o*a),t[11]=-(n*(a*d-c*l)-u*(r*d-o*l)+f*(r*c-o*a)),t[12]=-(u*(l*y-h*v)-f*(a*y-s*v)+p*(a*h-s*l)),t[13]=n*(l*y-h*v)-f*(r*y-i*v)+p*(r*h-i*l),t[14]=-(n*(a*y-s*v)-u*(r*y-i*v)+p*(r*s-i*a)),t[15]=n*(a*h-s*l)-u*(r*h-i*l)+f*(r*s-i*a),t},e.determinant=function(t){let e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],u=t[5],a=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],d=t[12],p=t[13],v=t[14],y=t[15];return(e*u-n*o)*(l*y-h*v)-(e*a-r*o)*(f*y-h*p)+(e*s-i*o)*(f*v-l*p)+(n*a-r*u)*(c*y-h*d)-(n*s-i*u)*(c*v-l*d)+(r*s-i*a)*(c*p-f*d)},e.multiply=r,e.translate=function(t,e,n){let r,i,o,u,a,s,c,f,l,h,d,p,v=n[0],y=n[1],b=n[2];return e===t?(t[12]=e[0]*v+e[4]*y+e[8]*b+e[12],t[13]=e[1]*v+e[5]*y+e[9]*b+e[13],t[14]=e[2]*v+e[6]*y+e[10]*b+e[14],t[15]=e[3]*v+e[7]*y+e[11]*b+e[15]):(r=e[0],i=e[1],o=e[2],u=e[3],a=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=u,t[4]=a,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+a*y+l*b+e[12],t[13]=i*v+s*y+h*b+e[13],t[14]=o*v+c*y+d*b+e[14],t[15]=u*v+f*y+p*b+e[15]),t},e.scale=function(t,e,n){let r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,n,r){let i,u,a,s,c,f,l,h,d,p,v,y,b,g,m,_,x,w,M,E,A,T,S,O,R=r[0],P=r[1],C=r[2],I=Math.sqrt(R*R+P*P+C*C);return Math.abs(I)<o.EPSILON?null:(I=1/I,R*=I,P*=I,C*=I,i=Math.sin(n),u=Math.cos(n),a=1-u,s=e[0],c=e[1],f=e[2],l=e[3],h=e[4],d=e[5],p=e[6],v=e[7],y=e[8],b=e[9],g=e[10],m=e[11],_=R*R*a+u,x=P*R*a+C*i,w=C*R*a-P*i,M=R*P*a-C*i,E=P*P*a+u,A=C*P*a+R*i,T=R*C*a+P*i,S=P*C*a-R*i,O=C*C*a+u,t[0]=s*_+h*x+y*w,t[1]=c*_+d*x+b*w,t[2]=f*_+p*x+g*w,t[3]=l*_+v*x+m*w,t[4]=s*M+h*E+y*A,t[5]=c*M+d*E+b*A,t[6]=f*M+p*E+g*A,t[7]=l*M+v*E+m*A,t[8]=s*T+h*S+y*O,t[9]=c*T+d*S+b*O,t[10]=f*T+p*S+g*O,t[11]=l*T+v*S+m*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},e.rotateX=function(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[4],u=e[5],a=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=u*i+f*r,t[6]=a*i+l*r,t[7]=s*i+h*r,t[8]=c*i-o*r,t[9]=f*i-u*r,t[10]=l*i-a*r,t[11]=h*i-s*r,t},e.rotateY=function(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[0],u=e[1],a=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=u*i-f*r,t[2]=a*i-l*r,t[3]=s*i-h*r,t[8]=o*r+c*i,t[9]=u*r+f*i,t[10]=a*r+l*i,t[11]=s*r+h*i,t},e.rotateZ=function(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[0],u=e[1],a=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=u*i+f*r,t[2]=a*i+l*r,t[3]=s*i+h*r,t[4]=c*i-o*r,t[5]=f*i-u*r,t[6]=l*i-a*r,t[7]=h*i-s*r,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,n){let r,i,u,a=n[0],s=n[1],c=n[2],f=Math.sqrt(a*a+s*s+c*c);return Math.abs(f)<o.EPSILON?null:(f=1/f,a*=f,s*=f,c*=f,r=Math.sin(e),i=Math.cos(e),u=1-i,t[0]=a*a*u+i,t[1]=s*a*u+c*r,t[2]=c*a*u-s*r,t[3]=0,t[4]=a*s*u-c*r,t[5]=s*s*u+i,t[6]=c*s*u+a*r,t[7]=0,t[8]=a*c*u+s*r,t[9]=s*c*u-a*r,t[10]=c*c*u+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},e.fromXRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=function(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=r+r,s=i+i,c=o+o,f=r*a,l=r*s,h=r*c,d=i*s,p=i*c,v=o*c,y=u*a,b=u*s,g=u*c;return t[0]=1-(d+v),t[1]=l+g,t[2]=h-b,t[3]=0,t[4]=l-g,t[5]=1-(f+v),t[6]=p+y,t[7]=0,t[8]=h+b,t[9]=p-y,t[10]=1-(f+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[4],u=e[5],a=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+u*u+a*a),t[2]=Math.sqrt(s*s+c*c+f*f),t},e.getRotation=function(t,e){let n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t},e.fromRotationTranslationScale=function(t,e,n,r){let i=e[0],o=e[1],u=e[2],a=e[3],s=i+i,c=o+o,f=u+u,l=i*s,h=i*c,d=i*f,p=o*c,v=o*f,y=u*f,b=a*s,g=a*c,m=a*f,_=r[0],x=r[1],w=r[2];return t[0]=(1-(p+y))*_,t[1]=(h+m)*_,t[2]=(d-g)*_,t[3]=0,t[4]=(h-m)*x,t[5]=(1-(l+y))*x,t[6]=(v+b)*x,t[7]=0,t[8]=(d+g)*w,t[9]=(v-b)*w,t[10]=(1-(l+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){let o=e[0],u=e[1],a=e[2],s=e[3],c=o+o,f=u+u,l=a+a,h=o*c,d=o*f,p=o*l,v=u*f,y=u*l,b=a*l,g=s*c,m=s*f,_=s*l,x=r[0],w=r[1],M=r[2],E=i[0],A=i[1],T=i[2];return t[0]=(1-(v+b))*x,t[1]=(d+_)*x,t[2]=(p-m)*x,t[3]=0,t[4]=(d-_)*w,t[5]=(1-(h+b))*w,t[6]=(y+g)*w,t[7]=0,t[8]=(p+m)*M,t[9]=(y-g)*M,t[10]=(1-(h+v))*M,t[11]=0,t[12]=n[0]+E-(t[0]*E+t[4]*A+t[8]*T),t[13]=n[1]+A-(t[1]*E+t[5]*A+t[9]*T),t[14]=n[2]+T-(t[2]*E+t[6]*A+t[10]*T),t[15]=1,t},e.fromQuat=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=n+n,a=r+r,s=i+i,c=n*u,f=r*u,l=r*a,h=i*u,d=i*a,p=i*s,v=o*u,y=o*a,b=o*s;return t[0]=1-l-p,t[1]=f+b,t[2]=h-y,t[3]=0,t[4]=f-b,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+y,t[9]=d-v,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,n,r,i,o,u){let a=1/(n-e),s=1/(i-r),c=1/(o-u);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(i+r)*s,t[10]=(u+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*o*2*c,t[15]=0,t},e.perspective=function(t,e,n,r,i){let o=1/Math.tan(e/2),u=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*u,t[15]=0,t},e.perspectiveFromFieldOfView=function(t,e,n,r){let i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),u=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),s=2/(u+a),c=2/(i+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(u-a)*s*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},e.ortho=function(t,e,n,r,i,o,u){let a=1/(e-n),s=1/(r-i),c=1/(o-u);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*s,t[14]=(u+o)*c,t[15]=1,t},e.lookAt=function(t,e,n,r){let i,u,a,s,c,f,l,h,d,p,v=e[0],y=e[1],b=e[2],g=r[0],m=r[1],_=r[2],x=n[0],w=n[1],M=n[2];return Math.abs(v-x)<o.EPSILON&&Math.abs(y-w)<o.EPSILON&&Math.abs(b-M)<o.EPSILON?mat4.identity(t):(l=v-x,h=y-w,d=b-M,p=1/Math.sqrt(l*l+h*h+d*d),l*=p,h*=p,d*=p,i=m*d-_*h,u=_*l-g*d,a=g*h-m*l,(p=Math.sqrt(i*i+u*u+a*a))?(i*=p=1/p,u*=p,a*=p):(i=0,u=0,a=0),s=h*a-d*u,c=d*i-l*a,f=l*u-h*i,(p=Math.sqrt(s*s+c*c+f*f))?(s*=p=1/p,c*=p,f*=p):(s=0,c=0,f=0),t[0]=i,t[1]=s,t[2]=l,t[3]=0,t[4]=u,t[5]=c,t[6]=h,t[7]=0,t[8]=a,t[9]=f,t[10]=d,t[11]=0,t[12]=-(i*v+u*y+a*b),t[13]=-(s*v+c*y+f*b),t[14]=-(l*v+h*y+d*b),t[15]=1,t)},e.targetTo=function(t,e,n,r){let i=e[0],o=e[1],u=e[2],a=r[0],s=r[1],c=r[2],f=i-n[0],l=o-n[1],h=u-n[2],d=f*f+l*l+h*h;d>0&&(f*=d=1/Math.sqrt(d),l*=d,h*=d);let p=s*h-c*l,v=c*f-a*h,y=a*l-s*f;return t[0]=p,t[1]=v,t[2]=y,t[3]=0,t[4]=l*y-h*v,t[5]=h*p-f*y,t[6]=f*v-l*p,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=u,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){let n=t[0],r=t[1],i=t[2],u=t[3],a=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=t[9],d=t[10],p=t[11],v=t[12],y=t[13],b=t[14],g=t[15],m=e[0],_=e[1],x=e[2],w=e[3],M=e[4],E=e[5],A=e[6],T=e[7],S=e[8],O=e[9],R=e[10],P=e[11],C=e[12],I=e[13],N=e[14],k=e[15];return Math.abs(n-m)<=o.EPSILON*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-_)<=o.EPSILON*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-x)<=o.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(u-w)<=o.EPSILON*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(a-M)<=o.EPSILON*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(s-E)<=o.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(c-A)<=o.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(f-T)<=o.EPSILON*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(l-S)<=o.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(h-O)<=o.EPSILON*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(d-R)<=o.EPSILON*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(p-P)<=o.EPSILON*Math.max(1,Math.abs(p),Math.abs(P))&&Math.abs(v-C)<=o.EPSILON*Math.max(1,Math.abs(v),Math.abs(C))&&Math.abs(y-I)<=o.EPSILON*Math.max(1,Math.abs(y),Math.abs(I))&&Math.abs(b-N)<=o.EPSILON*Math.max(1,Math.abs(b),Math.abs(N))&&Math.abs(g-k)<=o.EPSILON*Math.max(1,Math.abs(g),Math.abs(k))};var o=n(29);const u=r;e.mul=u;const a=i;e.sub=a},function(t,e,n){"use strict";function r(){let t=new s.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function i(t,e,n){n*=.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function o(t,e,n){let r=e[0],i=e[1],o=e[2],u=e[3],a=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*f+u*a+i*c-o*s,t[1]=i*f+u*s+o*a-r*c,t[2]=o*f+u*c+r*s-i*a,t[3]=u*f-r*a-i*s-o*c,t}function u(t,e,n,r){let i,o,u,a,s,c=e[0],f=e[1],l=e[2],h=e[3],d=n[0],p=n[1],v=n[2],y=n[3];return(o=c*d+f*p+l*v+h*y)<0&&(o=-o,d=-d,p=-p,v=-v,y=-y),1-o>1e-6?(i=Math.acos(o),u=Math.sin(i),a=Math.sin((1-r)*i)/u,s=Math.sin(r*i)/u):(a=1-r,s=r),t[0]=a*c+s*d,t[1]=a*f+s*p,t[2]=a*l+s*v,t[3]=a*h+s*y,t}function a(t,e){let n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);let i=(r+1)%3,o=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*i+i]-e[3*o+o]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*i+o]-e[3*o+i])*n,t[i]=(e[3*i+r]+e[3*r+i])*n,t[o]=(e[3*o+r]+e[3*r+o])*n}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.create=r,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=i,e.getAxisAngle=function(t,e){let n=2*Math.acos(e[3]),r=Math.sin(n/2);return 0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n},e.multiply=o,e.rotateX=function(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+u*a,t[1]=i*s+o*a,t[2]=o*s-i*a,t[3]=u*s-r*a,t},e.rotateY=function(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*a,t[1]=i*s+u*a,t[2]=o*s+r*a,t[3]=u*s-i*a,t},e.rotateZ=function(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],u=e[3],a=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*a,t[1]=i*s-r*a,t[2]=o*s+u*a,t[3]=u*s-o*a,t},e.calculateW=function(t,e){let n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},e.slerp=u,e.invert=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],u=n*n+r*r+i*i+o*o,a=u?1/u:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=o*a,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},e.fromMat3=a,e.fromEuler=function(t,e,n,r){let i=.5*Math.PI/180;e*=i,n*=i,r*=i;let o=Math.sin(e),u=Math.cos(e),a=Math.sin(n),s=Math.cos(n),c=Math.sin(r),f=Math.cos(r);return t[0]=o*s*f-u*a*c,t[1]=u*a*f+o*s*c,t[2]=u*s*c-o*a*f,t[3]=u*s*f+o*a*c,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var s=n(29),c=n(148),f=n(149),l=n(150);const h=l.clone;e.clone=h;const d=l.fromValues;e.fromValues=d;const p=l.copy;e.copy=p;const v=l.set;e.set=v;const y=l.add;e.add=y;const b=o;e.mul=b;const g=l.scale;e.scale=g;const m=l.dot;e.dot=m;const _=l.lerp;e.lerp=_;const x=l.length;e.length=x;const w=x;e.len=w;const M=l.squaredLength;e.squaredLength=M;const E=M;e.sqrLen=E;const A=l.normalize;e.normalize=A;const T=l.exactEquals;e.exactEquals=T;const S=l.equals;e.equals=S;const O=function(){let t=f.create(),e=f.fromValues(1,0,0),n=f.fromValues(0,1,0);return function(r,o,u){let a=f.dot(o,u);return a<-.999999?(f.cross(t,e,o),f.len(t)<1e-6&&f.cross(t,n,o),f.normalize(t,t),i(r,t,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(f.cross(t,o,u),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+a,A(r,r))}}();e.rotationTo=O;const R=function(){let t=r(),e=r();return function(n,r,i,o,a,s){return u(t,r,a,s),u(e,i,o,s),u(n,t,e,2*s*(1-s)),n}}();e.sqlerp=R;const P=function(){let t=c.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],A(e,a(e,t))}}();e.setAxes=P},function(t,e,n){"use strict";function r(){let t=new l.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function a(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function s(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function c(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function f(t){var e=t[0],n=t[1];return e*e+n*n}Object.defineProperty(e,"__esModule",{value:!0}),e.create=r,e.clone=function(t){let e=new l.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){let n=new l.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=i,e.multiply=o,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=a,e.squaredDistance=s,e.length=c,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*l.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){let r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){let n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=l.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=l.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))};var l=n(29);const h=c;e.len=h;const d=i;e.sub=d;const p=o;e.mul=p;const v=u;e.div=v;const y=a;e.dist=y;const b=s;e.sqrDist=b;const g=f;e.sqrLen=g;const m=function(){let t=r();return function(e,n,r,i,o,u){let a,s;for(n||(n=2),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,a=r;a<s;a+=n)t[0]=e[a],t[1]=e[a+1],o(t,t,u),e[a]=t[0],e[a+1]=t[1];return e}}();e.forEach=m},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(t){return t&&t.__esModule?t:{default:t}}(n(67)),a=function(t){function e(n,o){return r(this,e),i(this,t.call(this,n,u.default.TYPE.UNIFORM,o))}return o(e,t),e}(u.default);e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(21),o=n(33),u=i.COMP_PRIO_CHILDREN+1,a=i.COMP_PRIO_CHILDREN-1,s=function(){function t(e){r(this,t),this.entity=e}return t.prototype.renderFrame=function(t){this.entity.emit("renderFrameBeforeChildren",t)},t}(),c=function(){function t(e){r(this,t),this.entity=e}return t.prototype.renderFrame=function(t){this.entity.emit("renderFrameAfterChildren",t)},t}(),f=function(){function t(e){r(this,t),o(this),this.beforeChildren=new s(e),this.afterChildren=new c(e),e.on("*",i.COMP_PRIO_CHILDREN,this),e.on("*",u,this.beforeChildren),e.on("*",a,this.afterChildren)}return t.prototype.renderFrameBeforeChildren=function(){},t.prototype.renderFrameAfterChildren=function(){},t.prototype.appendChild=function(t){t.hasComponent("parentEntity")&&t.destroyComponent("parentEntity"),t.setComponent("parentEntity",this),this.on(t)},t.prototype.removeChild=function(t){this.off(t),t.destroyComponent("parentEntity")},t.prototype.disconnectedEntity=function(t){console.log("ChildrenComponent.disconnectedEntity(",t,")"),t.off(this.afterChildren),t.off(this.beforeChildren),t.off(this)},t}();e.default=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t){return t&&t.__esModule?t:{default:t}}(n(398)),u=n(21),a=function(t){return{enable:"object"===(void 0===t?"undefined":i(t))&&(void 0===t.enable||!!t.enable),sfactor:"object"===(void 0===t?"undefined":i(t))&&"string"==typeof t.sfactor?t.sfactor:"",dfactor:"object"===(void 0===t?"undefined":i(t))&&"string"==typeof t.dfactor?t.dfactor:""}},s=function(){function t(e){r(this,t),this.blendMode=e}return t.prototype.renderFrame=function(t){t.pushBlendMode(this.blendMode)},t}(),c=function(){function t(){r(this,t)}return t.prototype.renderFrame=function(t){t.popBlendMode()},t}(),f=function(){function t(e,n){r(this,t);var i=a(n),f=i.enable,l=i.sfactor,h=i.dfactor;this.blendMode=new o.default(f,l,h),this.beforeChildren=new s(this.blendMode),this.afterChildren=new c,e.on("*",u.COMP_PRIO_BLEND_BEFORE,this.beforeChildren),e.on("*",u.COMP_PRIO_BLEND_AFTER,this.afterChildren),e.on("debug",this)}return t.prototype.debug=function(){console.dir(this.blendMode)},t.prototype.update=function(t){var e=a(t),n=e.enable,r=e.sfactor,i=e.dfactor;this.blendMode.enable=n,this.blendMode.sfactor=r,this.blendMode.dfactor=i},t.prototype.disconnectedEntity=function(t){console.log("BlendModeComponent.disconnectedEntity(",t,")"),t.off(this.afterChildren),t.off(this.beforeChildren),t.off(this)},t}();e.default=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(399),u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,t),this.enable=e,this.sfactor=n,this.dfactor=i}return t.prototype.isEqual=function(t){return t&&this.enable===t.enable&&this._sfactor===t._sfactor&&this._dfactor===t._dfactor},i(t,[{key:"sfactor",set:function(t){this._sfactor="string"==typeof t?o(t).toUpperCase():void 0},get:function(){return this._sfactor}},{key:"dfactor",set:function(t){this._dfactor="string"==typeof t?o(t).toUpperCase():void 0},get:function(){return this._dfactor}}]),t}();e.default=u},function(t,e,n){var r=n(400)(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});t.exports=r},function(t,e,n){var r=n(401),i=n(402),o=n(410),u=RegExp("['’]","g");t.exports=function(t){return function(e){return r(o(i(e).replace(u,"")),t,"")}}},function(t,e){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},function(t,e,n){var r=n(403),i=n(104),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,u=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=i(t))&&t.replace(o,r).replace(u,"")}},function(t,e,n){var r=n(404)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});t.exports=r},function(t,e){t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},function(t,e,n){function r(t){if("string"==typeof t)return t;if(u(t))return o(t,r)+"";if(a(t))return f?f.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}var i=n(68),o=n(407),u=n(52),a=n(106),s=1/0,c=i?i.prototype:void 0,f=c?c.toString:void 0;t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(53))},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(68),i=Object.prototype,o=i.hasOwnProperty,u=i.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var i=u.call(t);return r&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(411),i=n(412),o=n(104),u=n(413);t.exports=function(t,e,n){return t=o(t),void 0===(e=n?void 0:e)?i(t)?u(t):r(t):t.match(e)||[]}},function(t,e){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=function(t){return t.match(n)||[]}},function(t,e){var n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=function(t){return n.test(t)}},function(t,e){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+n+"]",i="[a-z\\xdf-\\xf6\\xf8-\\xff]",o="[^\\ud800-\\udfff"+n+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="[A-Z\\xc0-\\xd6\\xd8-\\xde]",c="(?:"+i+"|"+o+")",f="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",l="[\\ufe0e\\ufe0f]?"+f+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",u,a].join("|")+")[\\ufe0e\\ufe0f]?"+f+")*"),h="(?:"+["[\\u2700-\\u27bf]",u,a].join("|")+")"+l,d=RegExp([s+"?"+i+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[r,s,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[r,s+c,"$"].join("|")+")",s+"?"+c+"+(?:['’](?:d|ll|m|re|s|t|ve))?",s+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",h].join("|"),"g");t.exports=function(t){return t.match(d)||[]}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t){return t&&t.__esModule?t:{default:t}}(n(152)),s=n(21),c=n(33),f=function(t){function e(n){var o,u;r(this,e);var a=o=i(this,t.call(this,n));return u=c(a),i(o,u)}return o(e,t),e.prototype.connectedCallback=function(){this.blitpunkCanvas=(0,a.default)(this,s.NODE_NAME_CANVAS)},e.prototype.disconnectedCallback=function(){this.blitpunkCanvas=null},u(e,[{key:"blitpunkNodeName",get:function(){return s.NODE_NAME_SCENE}},{key:"blitpunk",get:function(){return this.blitpunkCanvas.blitpunk}}]),e}(HTMLElement);e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=r(n(153)),c=r(n(154)),f=r(n(418)),l=n(21),h=n(33),d=function(t){function e(n){var r,u;i(this,e);var a=r=o(this,t.call(this,n));return u=h(a),o(r,u)}return u(e,t),a(e,null,[{key:"observedAttributes",get:function(){return[l.ATTR_SRC]}}]),e.prototype.loadTextureAtlas=function(t){var e=this;if(t&&this.entity&&this.prevUrl!==t)return this.prevUrl=t,this.textureHints=(0,f.default)(this),this.textureAtlasPromise=this.textureLibrary.loadTextureAtlas(this.textureId,t,this.textureHints).then(function(t){return e.textureAtlas=t,t}),this.textureAtlasPromise},e.prototype.debug=function(){console.log(this.textureAtlas)},e.prototype.connectedCallback=function(){(0,s.default)(this),this.textureLibrary=this.parentSceneElement.textureLibrary,this.loadTextureAtlas(this.getAttribute(l.ATTR_SRC))},e.prototype.disconnectedCallback=function(){this.textureAtlas=null,this.textureLibrary=null,(0,c.default)(this)},e.prototype.attributeChangedCallback=function(t,e,n){t===l.ATTR_SRC&&this.loadTextureAtlas(n)},a(e,[{key:"blitpunkNodeName",get:function(){return l.NODE_NAME_TEXTURE_ATLAS}},{key:"textureId",get:function(){return this.entity&&this.entity.id}}]),e}(HTMLElement);e.default=d},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return(0,r.default)(t,i.NODE_NAME_CANVAS)};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(152)),i=n(21)},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){var i=t.parentElement;if(i&&1===i.nodeType){var o=i.nodeName;if(!r.includes(o))return null==n&&i[e]||null!=n&&i[e],i}};var r=["BODY","HTML"]},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return{flipY:(0,r.default)(t,i.ATTR_FLIP_Y,!1),repeatable:(0,r.default)(t,i.ATTR_REPEATABLE,!1),premultiplyAlpha:(0,r.default)(t,i.ATTR_PREMULTIPLY_ALPHA,!0),nearest:(0,r.default)(t,i.ATTR_NEAREST,!1)}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(151)),i=n(21)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=r(n(420)),f=r(n(103)),l=r(n(484)),h=r(n(485)),d=r(n(486)),p=r(n(153)),v=r(n(154)),y=r(n(487)),b=n(21),g=n(33),m=function(t){var e=t.descriptor,n=t.capacity,r=t.vertexShader,i=t.fragmentShader,o=t.primitive,u=t.voNew,a=t.voZero;return{descriptor:e,vertexShader:r,fragmentShader:i,primitive:o,capacity:parseInt(n,10),voNew:(0,l.default)(u),voZero:(0,l.default)(a)}},_=function(t){return m({descriptor:t.getAttribute(b.ATTR_DESCRIPTOR),vertexShader:t.getAttribute(b.ATTR_VERTEX_SHADER),fragmentShader:t.getAttribute(b.ATTR_FRAGMENT_SHADER),primitive:t.getAttribute(b.ATTR_PRIMITIVE),capacity:t.getAttribute(b.ATTR_CAPACITY),voNew:t.getAttribute(b.ATTR_VO_NEW),voZero:t.getAttribute(b.ATTR_VO_ZERO)})},x=function(t){return(0,h.default)(t.descriptor)&&(0,h.default)(t.vertexShader)&&(0,h.default)(t.fragmentShader)&&(0,h.default)(t.primitive)&&(0,d.default)(t.capacity)},w=function(t){if(t.parentScene){var e=_(t);x(e)&&(t.spriteGroup=new c.default(t.resourceLibrary,t.textureLibrary,e),t._resolvePromise(t.spriteGroup),delete t._resolvePromise)}},M=function(t,e){var n=t.spriteGroup;if(n){var r=(0,f.default)(e);r&&"object"===(void 0===r?"undefined":s(r))&&(t.textureMap={},Object.keys(r).forEach(function(e){var i=r[e],o=t.blitpunkCanvas.querySelector(i);t.textureMap[e]=o.textureId,n.setTexture(e,o.textureId)}))}},E=function(t){function e(n){var r,u;i(this,e);var a=r=o(this,t.call(this,n));return a.spriteGroupPromise=new Promise(function(t){a._resolvePromise=t}),u=g(a),o(r,u)}return u(e,t),a(e,null,[{key:"observedAttributes",get:function(){return[b.ATTR_BLEND_MODE,b.ATTR_CAPACITY,b.ATTR_DESCRIPTOR,b.ATTR_FRAGMENT_SHADER,b.ATTR_PRIMITIVE,b.ATTR_TEXTURE_MAP,b.ATTR_VERTEX_SHADER]}}]),e.prototype.renderFrame=function(t){this.spriteGroup&&this.spriteGroup.renderFrame(t)},e.prototype.debug=function(){console.log(this.spriteGroup),this.textureMap&&console.log(b.ATTR_TEXTURE_MAP,this.textureMap)},e.prototype.connectedCallback=function(){(0,p.default)(this),this.textureLibrary=this.parentSceneElement.textureLibrary,this.resourceLibrary=this.parentSceneElement.resourceLibrary,w(this),M(this,this.getAttribute(b.ATTR_TEXTURE_MAP)),(0,y.default)(this,b.ATTR_BLEND_MODE)},e.prototype.disconnectedCallback=function(){this.textureMap=null,this.spriteGroup=null,this.textureLibrary=null,this.resourceLibrary=null,(0,v.default)(this)},e.prototype.attributeChangedCallback=function(t,e,n){switch(t){case b.ATTR_TEXTURE_MAP:M(this,n);break;case b.ATTR_BLEND_MODE:(0,y.default)(this,t);break;default:this.spriteGroup||w(this)}},a(e,[{key:"blitpunkNodeName",get:function(){return b.NODE_NAME_SPRITE_GROUP}}]),e}(HTMLElement);e.default=E},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=r(n(421)),a=r(n(422)),s=r(n(423)),c=r(n(424)),f=r(n(428)),l=n(430),h=function(t,e){if("function"==typeof e){var n=t.createVO();return e(n),n}return e},d=function(){function t(e,n,r){i(this,t),this.resourceLibrary=e,this.textureLibrary=n,this.descriptor=e.findDescriptor(r.descriptor),this.voPool=new f.default(this.descriptor,Object.assign(l(r,["capacity","usage","maxAllocVOSize","voArray"]),{voNew:h(this.descriptor,r.voNew),voZero:h(this.descriptor,r.voZero)})),this.voPoolShaderAttribs=new c.default(this.voPool),this.indices=r.indices||u.default.Generate(this.voPool.capacity,[0,1,2,0,2,3],4),this.shaderProgram=new a.default(e.findVertexShader(r.vertexShader),e.findFragmentShader(r.fragmentShader)),this.primitive=r.primitive,this.textures=Object.assign({},r.textures),this.shaderTextureGroup=null}return t.prototype.setTexture=function(t,e){this.textures[t]!==e&&(this.textures[t]=e,this.shaderTextureGroup=null)},t.prototype.loadTextureAtlas=function(t,e){return this.textures[t]=e,this.shaderTextureGroup=null,this.textureLibrary.loadTextureAtlas(e)},t.prototype.getTextureAtlas=function(t){return this.textureLibrary.getTextureAtlas(this.textures[t])},t.prototype.createSprite=function(t,e,n){var r=this.voPool.alloc(1);if(null!=t){var i=e||t.width,o=n||t.height;r.setSize(i,o),r.setTexCoordsByTexture(t)}return r},t.prototype.renderFrame=function(t){var e=this;null==this.shaderTextureGroup&&(this.shaderTextureGroup=new s.default(this.textureLibrary,this.textures)),this.shaderTextureGroup.whenLoaded(function(n){var r=t.shaderContext;r.pushVar(n),r.pushVar(e.voPoolShaderAttribs),t.useShaderProgram(e.shaderProgram),t.drawIndexed(e.primitive,e.indices)})},o(t,[{key:"capacity",get:function(){return this.voPool.capacity}},{key:"usedCount",get:function(){return this.voPool.usedCount}},{key:"availableCount",get:function(){return this.voPool.availableCount}}]),t}();e.default=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=r(n(65)),u=r(n(146)),a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i(this,t),this.resourceRef=new o.default(this,{target:u.default.ELEMENT_ARRAY_BUFFER,usage:"static"}),this.objectCount=e,this.itemCount=n,this.length=e*n,this.array=new Uint16Array(this.length),this.resourceRef.hints.typedArray=this.array}return t.Generate=function(e,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=new t(e,n.length),u=0;u<e;++u)for(var a=0;a<n.length;++a)o.array[u*o.itemCount+a]=n[a]+(u+i)*r;return o},t}();e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(51));e.default=function t(e,n){r(this,t),this.id=(0,i.default)(),this.vertexShader=e,this.fragmentShader=n}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=r(n(102)),a=r(n(145)),s=function(){function t(e,n){i(this,t),this.shaderLibrary=e,this.waitFor=Object.keys(n).map(function(t){return{shaderVarKey:t,textureId:n[t],isLoaded:!1}}),this.shaderVarGroup=new u.default([]),this.shaderVarStore=new Map}return t.prototype.whenLoaded=function(t){var e=this;this.isLoaded?t(this.shaderVarGroup):(this.waitFor.forEach(function(t){if(!t.isLoaded){var n=e.shaderLibrary.states.get(t.textureId);if(void 0===n||!n.isReady)return;var r=new a.default(t.shaderVarKey);r.texture=n.texture,e.shaderVarGroup.shaderVars.push(r),t.isLoaded=!0}}),this.waitFor=this.waitFor.filter(function(t){return!1===t.isLoaded}),this.isLoaded&&t(this.shaderVarGroup))},o(t,[{key:"isLoaded",get:function(){return 0===this.waitFor.length&&this.shaderVarGroup.shaderVars.length>0}}]),t}();e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=r(n(102)),c=r(n(425)),f=r(n(426)),l=r(n(427)),h=function(t){function e(n){i(this,e);var r=o(this,t.call(this,[])),u=n.descriptor,a=void 0;return Object.keys(u.attr).forEach(function(t){a?r.shaderVars.push(new l.default(t,a)):(a=new c.default(t,new f.default(t,u,n)),r.shaderVars.push(a))}),r}return u(e,t),e.prototype.touch=function(){return this.shaderVars[0].touch()},a(e,[{key:"bufferSource",get:function(){return this.shaderVars[0].value.bufferSource}},{key:"serial",get:function(){return this.shaderVars[0].serial}}]),e}(s.default);e.default=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(t){return t&&t.__esModule?t:{default:t}}(n(67)),a=function(t){function e(n,o){return r(this,e),i(this,t.call(this,n,u.default.TYPE.ATTRIB,o))}return o(e,t),e}(u.default);e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(99)),u=function(){function t(e,n,i){r(this,t),this.name=e,this.descriptor=n,this.bufferSource=i}return i(t,[{key:"attrDescriptor",get:function(){return this.descriptor.attr[this.name]}},{key:"resourceRef",get:function(){var t=this.bufferSource;return t instanceof o.default?t.resourceRef:t.voArray.resourceRef}}]),t}();e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this.name=e,this.shaderVar=n}return i(t,[{key:"type",get:function(){return this.shaderVar.type}},{key:"value",get:function(){return this.shaderVar.value}},{key:"serial",get:function(){return this.shaderVar.serial}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=r(n(429)),a=r(n(51)),s=r(n(99)),c=function(){function t(e,n){i(this,t),this.id=(0,a.default)(),this.descriptor=e,this.capacity=n&&n.capacity||this.descriptor.maxIndexedVOPoolSize,this.maxAllocVOSize=n&&n.maxAllocVOSize||0,this.usage=n&&n.usage||t.USAGE.DYNAMIC;var r=n&&n.voArray;if(r){if(r.usage!==this.usage)throw new Error("VOPool usage(="+this.usage+") mismatch with given voArray(usage="+r.usage+")")}else r=e.createVOArray(this.capacity,this.usage);this.voArray=r,this.voZero=n&&n.voZero||e.createVO(),this.voNew=n&&n.voNew||e.createVO(),this.availableVOs=[],this.usedVOs=[],(0,u.default)(this,this.maxAllocVOSize)}return t.prototype.alloc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(t>1){for(var e=[],n=0;n<t;++n){var r=this.alloc(1);if(void 0===r)break;e.push(r)}return e}var i=this.availableVOs.shift();return void 0===i?this.capacity-this.allocatedCount>0?((0,u.default)(this,this.maxAllocVOSize),this.alloc()):void 0:(this.usedVOs.push(i),i.voArray.copy(this.voNew.voArray),i)},t.prototype.free=function(t){if(Array.isArray(t))t.forEach(function(t){return t.free()});else{var e=this.usedVOs.indexOf(t);if(-1!==e){var n=this.usedVOs.length-1;if(e!==n){var r=this.usedVOs[n];t.voArray.copy(r.voArray);var i=r.voArray;r.voArray=t.voArray,t.voArray=i,this.usedVOs.splice(e,1,r)}this.usedVOs.pop(),this.availableVOs.unshift(t),t.voArray.copy(this.voZero.voArray)}}},o(t,[{key:"usedCount",get:function(){return this.usedVOs.length}},{key:"availableCount",get:function(){return this.capacity-this.usedVOs.length}},{key:"allocatedCount",get:function(){return this.availableVOs.length+this.usedVOs.length}}]),t}();e.default=c,c.USAGE=s.default.USAGE},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t.capacity-t.usedCount-t.allocatedCount,r=t.allocatedCount+(e>0&&e<n?e:n),i=t.allocatedCount;i<r;i++){var o=t.voArray.subarray(i),u=t.descriptor.createVO(o);u.free=t.free.bind(t,u),t.availableVOs.push(u)}}},function(t,e,n){var r=n(431),i=n(472)(function(t,e){return null==t?{}:r(t,e)});t.exports=i},function(t,e,n){var r=n(432),i=n(467);t.exports=function(t,e){return r(t,e,function(e,n){return i(t,n)})}},function(t,e,n){var r=n(433),i=n(464),o=n(69);t.exports=function(t,e,n){for(var u=-1,a=e.length,s={};++u<a;){var c=e[u],f=r(t,c);n(f,c)&&i(s,o(c,t),f)}return s}},function(t,e,n){var r=n(69),i=n(111);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(52),i=n(106),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||u.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,u=n(436)(function(t){var e=[];return r.test(t)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=u},function(t,e,n){var r=n(437),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=t.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(r.Cache||i),n}var i=n(438),o="Expected a function";r.Cache=i,t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(439),o=n(459),u=n(461),a=n(462),s=n(463);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=u,r.prototype.has=a,r.prototype.set=s,t.exports=r},function(t,e,n){var r=n(440),i=n(452),o=n(458);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(441),o=n(448),u=n(449),a=n(450),s=n(451);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=u,r.prototype.has=a,r.prototype.set=s,t.exports=r},function(t,e,n){var r=n(70);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(443),i=n(444),o=n(110),u=n(446),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,l=c.toString,h=f.hasOwnProperty,d=RegExp("^"+l.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(u(t))}},function(t,e,n){var r=n(107),i=n(110),o="[object AsyncFunction]",u="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==u||e==a||e==o||e==s}},function(t,e,n){var r=n(445),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(105)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(70),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(70),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(70),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(453),o=n(454),u=n(455),a=n(456),s=n(457);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=u,r.prototype.has=a,r.prototype.set=s,t.exports=r},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(71),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(71);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(71);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(71);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(109)(n(105),"Map");t.exports=r},function(t,e,n){var r=n(72);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(72);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(72);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(72);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(465),i=n(69),o=n(157),u=n(110),a=n(111);t.exports=function(t,e,n,s){if(!u(t))return t;for(var c=-1,f=(e=i(e,t)).length,l=f-1,h=t;null!=h&&++c<f;){var d=a(e[c]),p=n;if(c!=l){var v=h[d];void 0===(p=s?s(v,d,h):void 0)&&(p=u(v)?v:o(e[c+1])?[]:{})}r(h,d,p),h=h[d]}return t}},function(t,e,n){var r=n(466),i=n(155),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var u=t[e];o.call(t,e)&&i(u,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(156);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(468),i=n(469);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(69),i=n(158),o=n(52),u=n(157),a=n(471),s=n(111);t.exports=function(t,e,n){for(var c=-1,f=(e=r(e,t)).length,l=!1;++c<f;){var h=s(e[c]);if(!(l=null!=t&&n(t,h)))break;t=t[h]}return l||++c!=f?l:!!(f=null==t?0:t.length)&&a(f)&&u(h,f)&&(o(t)||i(t))}},function(t,e,n){var r=n(107),i=n(108),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){var r=n(473),i=n(477),o=n(479);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(474);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){function r(t,e,n,u,a){var s=-1,c=t.length;for(n||(n=o),a||(a=[]);++s<c;){var f=t[s];e>0&&n(f)?e>1?r(f,e-1,n,u,a):i(a,f):u||(a[a.length]=f)}return a}var i=n(475),o=n(476);t.exports=r},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(68),i=n(158),o=n(52),u=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(u&&t&&t[u])}},function(t,e,n){var r=n(478),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,u=-1,a=i(o.length-e,0),s=Array(a);++u<a;)s[u]=o[e+u];u=-1;for(var c=Array(e+1);++u<e;)c[u]=o[u];return c[e]=n(s),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(480),i=n(483)(r);t.exports=i},function(t,e,n){var r=n(481),i=n(156),o=n(482),u=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=u},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){t.exports=function(t){return t}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var u=i(),a=r-(u-o);if(o=u,a>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){"use strict";e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){if(t){var e=(0,i.default)(t);if(e&&"object"===(void 0===e?"undefined":r(e))){var n=Object.keys(e);return function(t){n.forEach(function(n){var r=t.descriptor.attr[n];r?r.setValue(t,e[n]):"function"==typeof t[n]?t[n](e[n]):t[n]=e[n]})}}}};var i=function(t){return t&&t.__esModule?t:{default:t}}(n(103))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return"string"==typeof t&&t.length>0}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return"number"==typeof t&&t>0}},function(t,e,n){"use strict";function r(t,e){if(null!=t.blitpunk)if(Array.isArray(e))e.forEach(r.bind(null,t));else{var n=t.getAttribute(e);null!=n&&t.blitpunk.componentRegistry.createOrUpdateComponent(t.entity,e,n)}}e.__esModule=!0,e.default=r},function(t,e,n){var r=n(489);"string"==typeof r&&(r=[[t.i,r,""]]);var i={};i.transform=void 0;n(491)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(490)(void 0)).push([t.i,"blitpunk-canvas {\n  display: inline-block;\n  font-size: 0;\n  margin: 0;\n  padding: 0; }\n  blitpunk-canvas > canvas {\n    border: 0;\n    margin: 0;\n    overflow: hidden;\n    padding: 0;\n    -ms-touch-action: none;\n    touch-action: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none; }\n\nblitpunk-scene,\nblitpunk-texture-atlas,\nblitpunk-sprite-group {\n  display: none; }\n",""])},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=r(i),u=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(u).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# "+("sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t)))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var u=t[i];"number"==typeof u[0]&&r[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="("+u[2]+") and ("+n+")"),e.push(u))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(u=0;u<i.parts.length;u++)i.parts[u](r.parts[u]);for(;u<r.parts.length;u++)i.parts.push(f(r.parts[u],e))}else{for(var o=[],u=0;u<r.parts.length;u++)o.push(f(r.parts[u],e));p[r.id]={id:r.id,refs:1,parts:o}}}}function i(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],u=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[u]?r[u].parts.push(a):n.push(r[u]={id:u,parts:[a]})}return n}function o(t,e){var n=y(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=m[m.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function u(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function a(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),o(t,e),e}function s(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),o(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function f(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var c=g++;n=b||(b=a(e)),r=l.bind(null,n,c,!1),i=l.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=d.bind(null,n,e),i=function(){u(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),r=h.bind(null,n),i=function(){u(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function l(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),u=t.childNodes;u[e]&&t.removeChild(u[e]),u.length?t.insertBefore(o,u[e]):t.appendChild(o)}}function h(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=_(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var u=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(u),a&&URL.revokeObjectURL(a)}var p={},v=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),y=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),b=null,g=0,m=[],_=n(492);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=v()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=i(t,e);return r(n,e),function(t){for(var o=[],u=0;u<n.length;u++){var a=n[u];(s=p[a.id]).refs--,o.push(s)}t&&r(i(t,e),e);for(u=0;u<o.length;u++){var s=o[u];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete p[s.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e,n){"use strict";e.__esModule=!0;var r="undefined"!=typeof console?"function"==typeof console.debug?function(){var t;return(t=console).debug.apply(t,arguments)}:function(){var t;return(t=console).log.apply(t,arguments)}:function(){return 1};e.default=r}])});

/***/ })

});